{"version":3,"file":"mlpChart.js","sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ebcad44257b7cbb5aba0","webpack:///src/index.js","webpack:///external \"d3\"","webpack:///src/charts.js","webpack:///src/chart/realTimeLineChart.js","webpack:///src/tooltip.js","webpack:///./src/css/tooltip.less","webpack:///./src/css/realTimeline.less","webpack:///src/axis.js","webpack:///src/legend.index.js","webpack:///src/legend/color.js","webpack:///src/legend/legend.js","webpack:///src/legend/size.js","webpack:///src/legend/symbol.js","webpack:///src/brush.js","webpack:///./src/css/brush.less","webpack:///src/util.js","webpack:///src/utils/common.js","webpack:///src/utils/apiHelper.js","webpack:///src/utils/events.js","webpack:///src/utils/elementHelper.js","webpack:///src/utils/format.js","webpack:///src/i18n/i18n.js","webpack:///./src/i18n/zh/zh.json","webpack:///./src/i18n/en/en.json","webpack:///./src/css/style.less"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"mlpChart\", [\"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mlpChart\"] = factory(require(\"d3\"));\n\telse\n\t\troot[\"mlpChart\"] = factory(root[\"d3\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/lib/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ebcad44257b7cbb5aba0\n **/","/**\r\n * Created by zhangqing on 2016/6/23.\r\n */\r\n/** @type {object} 导出的图表 */\r\nconst exportChart = require('./charts');\r\n/** @type {object} 对图表的一些工具 */\r\nconst utils = require('./util');\r\nconst i18n = require('./i18n/i18n.js');\r\nrequire('./css/style.less');\r\n/**\r\n * @param  {string} params.wrapContainer chart外部div\r\n * @param  {string} params.id chart的id, 如果不指定, 则会默认生成一个id\r\n * @param  {Array} params.dataset chart数据\r\n */\r\nmodule.exports = function(params) {\r\n\tif (typeof d3 === \"undefined\") {\r\n\t\tconsole.error(\"缺少d3.js\");\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tif (typeof _ === \"undefined\") {\r\n\t\tconsole.error(\"缺少工具类, underscore.js\");\r\n\t\treturn;\r\n\t}\r\n\tvar chart = _.extend({}, exportChart);\r\n\tvar\r\n\t\tdataset = [],\r\n\t\twrapContainer = null,\r\n\t\tsvgContainer = null,\r\n\t\tdefContainer = null,\r\n\t\tchartId = params.id ? params.id : _.now();\r\n\r\n\tfunction drawSvgContainer() {\r\n\t\tvar widthString = wrapContainer.style('width'),\r\n\t\t\theightString = wrapContainer.style('height'),\r\n\t\t\twidth = Number(widthString.split('px')[0]),\r\n\t\t\theight = Number(heightString.split('px')[0]);\r\n\t\tsvgContainer = wrapContainer.append('svg').attr({\r\n\t\t\tid: \"mlpChart-\" + chartId,\r\n\t\t\twidth: widthString,\r\n\t\t\theight: heightString,\r\n\t\t\tclass: 'mlpChart'\r\n\t\t});\r\n\t\tdefContainer = svgContainer.append('defs');\r\n\t}\r\n\tif (params && params.wrapContainer && d3.select(params.wrapContainer).node()) {\r\n\t\twrapContainer = d3.select(params.wrapContainer);\r\n\t\tdrawSvgContainer();\r\n\t} else {\r\n\t\tconsole.error(\"no container, 缺少必要参数\");\r\n\t\treturn;\r\n\t}\r\n\tchart.utils = utils;\r\n\tchart.config = {\r\n\t\tdataset: dataset,\r\n\t\twrapContainer: wrapContainer,\r\n\t\tsvgContainer: svgContainer,\r\n\t\tdefContainer: defContainer,\r\n\t\tchartId: chartId\r\n\t};\r\n\tchart.api = null;\r\n\tutils.chartApiList.push(chart);\r\n\treturn chart;\r\n};\r\nmodule.exports.utils = utils;\r\nmodule.exports.VERSION = __VERSION__;\r\nmodule.exports.D3VERSION = d3.version;\r\nmodule.exports.LANGUAGE = i18n;\n\n\n/** WEBPACK FOOTER **\n ** src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"d3\"\n ** module id = 2\n ** module chunks = 0\n **/","/**\r\n * 导出的图表\r\n */\r\nmodule.exports = {\r\n\trealTimeLineChart: require('./chart/realTimeLineChart')\r\n};\n\n\n/** WEBPACK FOOTER **\n ** src/charts.js\n **/","/**\r\n * @param { mlpChart } this\r\n * @return { mlpChart } this\r\n */\r\nconst tooltip = require('../tooltip');\r\nrequire('../css/realTimeline.less');\r\nvar realTimeLineChart = function() {\r\n\tconst axisUtil = require('../axis');\r\n\tconst legend = require('../legend.index');\r\n\tconst brush = require('../brush');\r\n\tconst _this = this;\r\n\tvar realTimeLineChartParams = Array.prototype.slice.call(arguments)[0] ? Array.prototype.slice.call(arguments)[0] : {};\r\n\tconst commonConfig = {\r\n\t\t/** @type {boolean} 如果传入参数含有dataset, 那么不进行数据处理, 否则处理数据以符合当前的图表(该种情况通常用于从父api中传入的参数) */\r\n\t\tdataReady: realTimeLineChartParams.dataset ? true : false,\r\n\t\t/** @type {Array} 图表距离上左下右的距离 */\r\n\t\tmargin: [0, 60, 25, 0],\r\n\t\t/** @type {Number} 最多显示多少个节点,当大于该节点时,会开启动画,执行 movingChart方法 */\r\n\t\tmaxNode: 20,\r\n\t\t/** @type {Number} 动画时间 */\r\n\t\tupdateAnimationTime: 2000,\r\n\t\t/** @type {Function} path颜色函数 */\r\n\t\tcolor: d3.scale.category10(),\r\n\t\t/** @type {boolean} 是否显示tooltip */\r\n\t\ttooltip: true,\r\n\t\t/** @type {Number} y轴最大值间距 */\r\n\t\tyPadding: 1.1,\r\n\t\t/** @type {String} line折线图, area面积图 */\r\n\t\tfillType: \"line\",\r\n\t\t/** @type {String} 线条/面积的类型 */\r\n\t\tinterpolate: \"linear\",\r\n\t\t/** @type {Boolean} 是否显示图标上的点 */\r\n\t\tdotPoints: true,\r\n\t\t/** @type {Boolean} 是否显示legend */\r\n\t\tlegend: true,\r\n\t\t/** @type {String} legend的位置 */\r\n\t\tlegendPosition: \"zs\",\r\n\t\t/** @type { String} legend的摆放方式  vertical / horizontal*/\r\n\t\tlegendOriention: \"horizontal\",\r\n\t\t/** @type { boolean } brush模块是否启用*/\r\n\t\tbrushModule: false,\r\n\t\t/** @type {boolean} 是否允许加入新的数据 */\r\n\t\tenableUpdate: true\r\n\t};\r\n\tvar config = _this.utils.mergeConfig.call(_this, _this.config, commonConfig, realTimeLineChartParams);\r\n\r\n\tfunction processData() {\r\n\t\tvar ds = config.dataset;\r\n\t}\r\n\r\n\t/** @type {object} 内部chart变量 */\r\n\tvar chartApi = null;\r\n\r\n\tfunction draw() {\r\n\t\tvar svgContainer = config.svgContainer,\r\n\t\t\tdefContainer = config.defContainer,\r\n\t\t\tdataset = config.dataset,\r\n\t\t\tsvgContainerProperties = _this.utils.svgContainerProperties.call(_this),\r\n\t\t\tmargin = config.margin,\r\n\t\t\tchartWidth = svgContainerProperties.w - (margin[1] + margin[3]),\r\n\t\t\tchartHeight = svgContainerProperties.h - (margin[0] + margin[2]),\r\n\t\t\tcolor = config.color,\r\n\t\t\tmaxNode = config.maxNode,\r\n\t\t\t/** @type {object} x,y轴 api */\r\n\t\t\taxis = null,\r\n\t\t\t/** @type {boolean} 是否开启x轴的动画 */\r\n\t\t\txAxisAnimation = false,\r\n\t\t\tlegendApi = null,\r\n\t\t\tbrushApi = null;\r\n\r\n\t\tif (!config.dataReady) {\r\n\t\t\tprocessData();\r\n\t\t}\r\n\r\n\t\tvar chart = svgContainer\r\n\t\t\t.append('g')\r\n\t\t\t.attr('class', 'chartWrap')\r\n\t\t\t.attr(\"transform\", \"translate(\" + margin[1] + \",\" + margin[0] + \")\");\r\n\t\t//draw chart background, may use for brush system to position outside div-css \r\n\t\tchart.append('rect')\r\n\t\t\t.attr({\r\n\t\t\t\twidth: chartWidth,\r\n\t\t\t\theight: chartHeight,\r\n\t\t\t\tx: 0,\r\n\t\t\t\ty: 0,\r\n\t\t\t\tfill: 'transparent',\r\n\t\t\t\tclass: 'mlpChart-bg'\r\n\t\t\t});\r\n\r\n\t\tfunction drawLegend() {\r\n\t\t\tvar domain_legend = [],\r\n\t\t\t\trange_legend = [];\r\n\t\t\t_.map(dataset, function(d, i) {\r\n\t\t\t\tdomain_legend.push(d.name);\r\n\t\t\t\trange_legend.push(color(i));\r\n\t\t\t});\r\n\t\t\tlegendApi = legend.defaultLegend.call(chart, {\r\n\t\t\t\ttype: 'ordinal',\r\n\t\t\t\tposition: config.legendPosition,\r\n\t\t\t\tscale_domain: domain_legend,\r\n\t\t\t\tscale_range: range_legend,\r\n\t\t\t\tclassPrefix: 'realTimeLine',\r\n\t\t\t\torient: config.legendOriention,\r\n\t\t\t\tshapePadding: 5,\r\n\t\t\t\t// transOffset: [40,10],\r\n\t\t\t\tcellclick: function(name,i,e) {\r\n\t\t\t\t\tif (d3.select(this).classed('mlpLegendHide')) {\r\n\t\t\t\t\t\td3.select(this).classed('mlpLegendHide', false);\r\n\t\t\t\t\t\tchartContent\r\n\t\t\t\t\t\t\t.selectAll('g.entity')\r\n\t\t\t\t\t\t\t.each(function(d) {\r\n\t\t\t\t\t\t\t\tif (d.name === name) {\r\n\t\t\t\t\t\t\t\t\td3.select(this).style('opacity', \"1\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\td3.select(this).classed('mlpLegendHide', true);\r\n\t\t\t\t\t\tchartContent\r\n\t\t\t\t\t\t\t.selectAll('g.entity')\r\n\t\t\t\t\t\t\t.each(function(d) {\r\n\t\t\t\t\t\t\t\tif (d.name === name) {\r\n\t\t\t\t\t\t\t\t\td3.select(this).style('opacity', \"0.1\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcellover: function(name) {\r\n\t\t\t\t\tchartContent\r\n\t\t\t\t\t\t.selectAll('g.entity')\r\n\t\t\t\t\t\t.each(function(d) {\r\n\t\t\t\t\t\t\tif (d.name === name) {\r\n\t\t\t\t\t\t\t\tlineMouseover.call(this);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tcellout: function(name) {\r\n\t\t\t\t\tchartContent\r\n\t\t\t\t\t\t.selectAll('g.entity')\r\n\t\t\t\t\t\t.each(function(d) {\r\n\t\t\t\t\t\t\tif (d.name === name) {\r\n\t\t\t\t\t\t\t\tlineMouseout.call(this);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction axisDomain(mode) {\r\n\t\t\tvar allData = [];\r\n\t\t\t_.each(dataset, function(d) {\r\n\t\t\t\tallData = allData.concat(d.data);\r\n\t\t\t});\r\n\t\t\tvar domain_x = [(_.min(allData, function(d) {\r\n\t\t\t\treturn d.x;\r\n\t\t\t})).x, (_.max(allData, function(d) {\r\n\t\t\t\treturn d.x;\r\n\t\t\t})).x ];\r\n\t\t\txAxisAnimation = (allData.length / dataset.length) > maxNode;\r\n\t\t\t// 因为要保证部分元素在界面以外, 故当超过maxNode的长度时必须扩大坐标轴范围\r\n\t\t\tvar xaxisWidth = chartWidth + chartWidth * (xAxisAnimation ? 1 / maxNode : 0);\r\n\r\n\t\t\tvar domain_y = [0, (_.max(allData, function(d) {\r\n\t\t\t\treturn d.y;\r\n\t\t\t})).y * config.yPadding];\r\n\t\t\tvar axisConfig = {\r\n\t\t\t\tdomainX: domain_x,\r\n\t\t\t\tdomainY: domain_y,\r\n\t\t\t\trangeX: [0, xaxisWidth],\r\n\t\t\t\trangeY: [chartHeight, 0],\r\n\t\t\t\ttickFormat: [function(d) {\r\n\t\t\t\t\treturn _this.utils.dateFormat(d);\r\n\t\t\t\t}, null],\r\n\t\t\t\tanimation: [xAxisAnimation ? function(el) {\r\n\t\t\t\t\tel.transition()\r\n\t\t\t\t\t\t.duration(config.updateAnimationTime - 30)\r\n\t\t\t\t\t\t.ease(\"linear\")\r\n\t\t\t\t\t\t.call(axis.xaxis);\r\n\t\t\t\t} : null, function(el) {\r\n\t\t\t\t\tel.transition()\r\n\t\t\t\t\t\t.duration(500)\r\n\t\t\t\t\t\t.call(axis.yaxis);\r\n\t\t\t\t}]\r\n\t\t\t};\r\n\t\t\treturn mode === 'update' ? axis.api.updateAxis(axisConfig) : axisUtil.call(chart, axisConfig);\r\n\t\t}\r\n\r\n\t\tif (config.legend) {\r\n\t\t\tdrawLegend();\r\n\t\t}\r\n\r\n\t\taxis = axisDomain();\r\n\t\taxis.api.drawAxis({\r\n\t\t\txAttr: {\r\n\t\t\t\t'transform': \"translate(\" + 0 + \",\" + (axis.y(0)) + \")\"\r\n\t\t\t},\r\n\t\t\tyAttr: {\r\n\t\t\t\t'transform': \"translate(\" + 0 + \",\" + 0 + \")\"\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//draw clip\r\n\t\tvar clipUniqueId = 'clip_' + _.uniqueId();\r\n\t\tdefContainer.append('clipPath')\r\n\t\t\t.attr({\r\n\t\t\t\t\"id\": clipUniqueId\r\n\t\t\t})\r\n\t\t\t.append('rect')\r\n\t\t\t.attr({\r\n\t\t\t\theight: chartHeight,\r\n\t\t\t\twidth: chartWidth,\r\n\t\t\t\tx: 1,\r\n\t\t\t\ty: 0\r\n\t\t\t});\r\n\t\tvar fillTypeFunc = null;\r\n\t\tif (config.fillType === 'area') {\r\n\t\t\tfillTypeFunc = d3.svg.area()\r\n\t\t\t\t.interpolate(config.interpolate)\r\n\t\t\t\t.x(function(d, i) {\r\n\t\t\t\t\treturn axis.x(d.x);\r\n\t\t\t\t})\r\n\t\t\t\t.y0(axis.y(0))\r\n\t\t\t\t.y1(function(d, i) {\r\n\t\t\t\t\treturn axis.y(d.y);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tfillTypeFunc = d3.svg.line()\r\n\t\t\t\t.interpolate(config.interpolate)\r\n\t\t\t\t.x(function(d, i) {\r\n\t\t\t\t\treturn axis.x(d.x);\r\n\t\t\t\t})\r\n\t\t\t\t.y(function(d, i) {\r\n\t\t\t\t\treturn axis.y(d.y);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar chartContent = chart.append('g')\r\n\t\t\t.attr({\r\n\t\t\t\t'class': 'chartContent',\r\n\t\t\t\t\"clip-path\": \"url(#\" + clipUniqueId + \")\"\r\n\t\t\t});\r\n\r\n\t\tchartContent\r\n\t\t\t.selectAll('g.entity')\r\n\t\t\t.data(dataset)\r\n\t\t\t.enter()\r\n\t\t\t.append('g')\r\n\t\t\t.attr({\r\n\t\t\t\tclass: 'entity'\r\n\t\t\t})\r\n\t\t\t.on('mouseover', lineMouseover)\r\n\t\t\t.on('mouseout', lineMouseout)\r\n\t\t\t.append('path')\r\n\t\t\t.attr({\r\n\t\t\t\td: function(d, i) {\r\n\t\t\t\t\treturn fillTypeFunc(d.data);\r\n\t\t\t\t},\r\n\t\t\t\t'stroke': function(d, i) {\r\n\t\t\t\t\treturn color(i);\r\n\t\t\t\t},\r\n\t\t\t\t'fill': function(d, i) {\r\n\t\t\t\t\treturn config.fillType === 'area' ? color(i) : 'none';\r\n\t\t\t\t},\r\n\t\t\t\t'stroke-width': '2px',\r\n\t\t\t\t'opacity': 0.8\r\n\t\t\t});\r\n\t\tif (config.dotPoints) {\r\n\t\t\tdrawOrUpdatePoints();\r\n\t\t}\r\n\t\tif (config.brushModule ) {\r\n\t\t\tif(!brushApi){\r\n\t\t\t\tbrushApi = brush.call(chart, {\r\n\t\t\t\t\tapi: _this\r\n\t\t\t\t})\r\n\t\t\t\t.on('brushDataFormat',function(startPos, endPos){\r\n\t\t\t\t\tif(!endPos){\r\n\t\t\t\t\t\tendPos  = startPos;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar allData = [];\r\n\t\t\t\t\t_.each(dataset, function(d) {\r\n\t\t\t\t\t\tallData = allData.concat(_.pluck(d.data,'x'));\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar cloestStart = _this.utils.findCloestNumber.call(allData, axis.x.invert(startPos),'>') ,\r\n\t\t\t\t\t\tcloestEnd = _this.utils.findCloestNumber.call(allData, axis.x.invert(endPos),'<') ,\r\n\t\t\t\t\t\tstartWidth = axis.x(cloestStart),\r\n\t\t\t\t\t\tendWidth = axis.x(cloestEnd);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tstartText: _this.utils.dateFormat(cloestStart,'yyyy-MM-dd hh:mm:ss') ,\r\n\t\t\t\t\t\tstartWidth: startWidth,\r\n\t\t\t\t\t\tendText: _this.utils.dateFormat(cloestEnd,'yyyy-MM-dd hh:mm:ss') ,\r\n\t\t\t\t\t\tendWidth: endWidth,\r\n\t\t\t\t\t\trangeText: _this.utils.dateRangeFormat(cloestEnd - cloestStart)\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tbrushApi.init();\r\n\t\t}\r\n\r\n\t\tfunction lineMouseout() {\r\n\t\t\td3.select(this)\r\n\t\t\t\t.select('path').attr({\r\n\t\t\t\t\t\"stroke-width\": '2px',\r\n\t\t\t\t\t'opacity': 0.8\r\n\t\t\t\t});\r\n\t\t\td3.select(this)\r\n\t\t\t\t.selectAll('circle')\r\n\t\t\t\t.attr('r', 3);\r\n\t\t}\r\n\r\n\t\tfunction lineMouseover() {\r\n\t\t\td3.select(this)\r\n\t\t\t\t.select('path').attr({\r\n\t\t\t\t\t\"stroke-width\": '4px',\r\n\t\t\t\t\t'opacity': 0.9\r\n\t\t\t\t});\r\n\t\t\td3.select(this)\r\n\t\t\t\t.selectAll('circle')\r\n\t\t\t\t.attr('r', 5);\r\n\t\t}\r\n\r\n\t\tfunction drawOrUpdatePoints() {\r\n\t\t\tvar tip = null;\r\n\r\n\t\t\tchartContent\r\n\t\t\t\t.selectAll('g.entity').each(function(d, i) {\r\n\t\t\t\t\tvar currentEntity = d3.select(this)\r\n\t\t\t\t\t\t.selectAll('circle')\r\n\t\t\t\t\t\t.data(d.data);\r\n\t\t\t\t\tcurrentEntity\r\n\t\t\t\t\t\t.attr({\r\n\t\t\t\t\t\t\tcx: function(cd, ci) {\r\n\t\t\t\t\t\t\t\treturn axis.x(cd.x);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcy: function(cd, ci) {\r\n\t\t\t\t\t\t\t\treturn axis.y(cd.y);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.enter()\r\n\t\t\t\t\t\t.append('circle')\r\n\t\t\t\t\t\t.attr({\r\n\t\t\t\t\t\t\tr: 3,\r\n\t\t\t\t\t\t\tcx: function(cd, ci) {\r\n\t\t\t\t\t\t\t\treturn axis.x(cd.x);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcy: function(cd, ci) {\r\n\t\t\t\t\t\t\t\treturn axis.y(cd.y);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\tfill: color(i)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on('mouseover', function(d) {\r\n\t\t\t\t\t\t\tif (config.tooltip) {\r\n\t\t\t\t\t\t\t\ttip = tooltip()\r\n\t\t\t\t\t\t\t\t\t.attr('class', 'd3-tip')\r\n\t\t\t\t\t\t\t\t\t.html(function(d) {\r\n\t\t\t\t\t\t\t\t\t\tvar output = \"\";\r\n\t\t\t\t\t\t\t\t\t\t_.map(d.tip, function(v, k) {\r\n\t\t\t\t\t\t\t\t\t\t\toutput += \"<div style='margin: 3px 0;'>\" + k + \" : \" + v + \"</div>\";\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\treturn output;\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t.offset(function(d) {\r\n\t\t\t\t\t\t\t\t\t\treturn [-10, 0];\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tchartContent.call(tip);\r\n\t\t\t\t\t\t\t\ttip.show(d);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on('mouseout', function() {\r\n\t\t\t\t\t\t\tif (config.tooltip && tip) {\r\n\t\t\t\t\t\t\t\ttip.destroy();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\tcurrentEntity\r\n\t\t\t\t\t\t.exit()\r\n\t\t\t\t\t\t.remove();\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction update() {\r\n\t\t\taxis = axisDomain('update');\r\n\t\t\tchartContent\r\n\t\t\t\t.selectAll('g.entity')\r\n\t\t\t\t.data(config.dataset)\r\n\t\t\t\t.select('path')\r\n\t\t\t\t.attr({\r\n\t\t\t\t\td: function(d, i) {\r\n\t\t\t\t\t\treturn fillTypeFunc(d.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\tdrawOrUpdatePoints();\r\n\t\t\tif (xAxisAnimation) {\r\n\t\t\t\tmovingChart();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction movingChart() {\r\n\t\t\tchartContent\r\n\t\t\t\t.selectAll('g.entity')\r\n\t\t\t\t.attr('transform', \"translate(0,0)\")\r\n\t\t\t\t.transition()\r\n\t\t\t\t.duration(config.updateAnimationTime - 30) //减少一些动画时间\r\n\t\t\t\t.ease(\"linear\")\r\n\t\t\t\t.attr(\"transform\", \"translate(\" + (-chartWidth / (maxNode - 1)) + \",0)\") //标度尺比可显示区域大 1/maxNode, 故需要手动减去一份\r\n\t\t\t\t.each('end', function(d, i) {\r\n\t\t\t\t\twhile (d.data.length > maxNode) {\r\n\t\t\t\t\t\td.data.shift();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t\t/**\r\n\t\t * 移除chart中所有元素\r\n\t\t * @return {[type]} [description]\r\n\t\t */\r\n\t\tfunction remove() {\r\n\t\t\tchart.remove();\r\n\t\t\taxis = null;\r\n\t\t\tlegendApi = null;\r\n\t\t\tbrushApi = null;\r\n\t\t}\r\n\r\n\t\tfunction dataUpdateStatus(status){\r\n\t\t\tif(status === true){\r\n\t\t\t\tconfig.enableUpdate = true;\r\n\t\t\t}else if(status === false){\r\n\t\t\t\tconfig.enableUpdate = false;\r\n\t\t\t}else{\r\n\t\t\t\treturn config.enableUpdate;\r\n\t\t\t}\r\n\t\t}\r\n\t\tchartApi = {\r\n\t\t\tupdate: update,\r\n\t\t\tremove: remove,\r\n\t\t\tdataUpdateStatus: dataUpdateStatus,\r\n\t\t\tlegendApi: legendApi\r\n\t\t};\r\n\t\treturn _this;\r\n\t}\r\n\r\n\tfunction update(increaseData) {\r\n\t\tif (!chartApi) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif(!chartApi.dataUpdateStatus()){\r\n\t\t\tconsole.info(\"当前图表禁止向其添加数据\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar dataset = config.dataset;\r\n\t\tif (increaseData.length != dataset.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t_.each(increaseData, function(d, i) {\r\n\t\t\tdataset[i].data.push(d);\r\n\t\t});\r\n\t\tchartApi.update();\r\n\t\treturn this;\r\n\t}\r\n\r\n\tfunction redraw() {\r\n\t\tif (chartApi) {\r\n\t\t\tchartApi.remove();\r\n\t\t}\r\n\t\treturn draw();\r\n\t}\r\n\r\n\tfunction resize() {\r\n\t\tif (chartApi) {\r\n\t\t\tredraw();\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tfunction getConfig() {\r\n\t\treturn config;\r\n\t}\r\n\r\n\tfunction setConfig(newConfig) {\r\n\t\tnewConfig = newConfig ? newConfig : {};\r\n\t\tconfig = _.extend({}, config, newConfig);\r\n\t\treturn this;\r\n\t}\r\n\r\n\t_this.api = {\r\n\t\tdraw: draw,\r\n\t\tupdate: update,\r\n\t\tredraw: redraw,\r\n\t\tresize: resize,\r\n\t\tgetConfig: getConfig,\r\n\t\tsetConfig: setConfig\r\n\t};\r\n\treturn _this;\r\n};\r\nmodule.exports = realTimeLineChart;\n\n\n/** WEBPACK FOOTER **\n ** src/chart/realTimeLineChart.js\n **/","require('./css/tooltip.less');\r\n// d3.tip\r\n// Copyright (c) 2013 Justin Palmer\r\n//\r\n// Tooltips for d3.js SVG visualizations\r\n// redesign by zhang qing\r\n/**\r\n * @author zhang qing\r\n * @return {function} tooltip api\r\n */\r\nmodule.exports = function () {\r\n\tvar direction = d3_tip_direction,\r\n\t\toffset = d3_tip_offset,\r\n\t\thtml = d3_tip_html,\r\n\t\tnode = initNode(),\r\n\t\tsvg = null,\r\n\t\tpoint = null,\r\n\t\ttarget = null;\r\n\r\n\tfunction tip(vis) {\r\n\t\tsvg = getSVGNode(vis);\r\n\t\tpoint = svg.createSVGPoint();\r\n\t\tdocument.body.appendChild(node);\r\n\t}\r\n\r\n\t// Public - show the tooltip on the screen\r\n\t//\r\n\t// Returns a tip\r\n\ttip.show = function () {\r\n\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\tif (args[args.length - 1] instanceof SVGElement) {\r\n\t\t\ttarget = args.pop();\r\n\t\t}\r\n\r\n\t\tvar content = html.apply(this, args),\r\n\t\t\tdir = direction.apply(this, args),\r\n\t\t\tpoffset = offset.apply(this, args),\r\n\t\t\tnodel = getNodeEl(),\r\n\t\t\ti = directions.length,\r\n\t\t\tcoords,\r\n\t\t\tscrollTop = document.documentElement.scrollTop || document.body.scrollTop,\r\n\t\t\tscrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\r\n\r\n\t\tnodel.html(content)\r\n\t\t\t.style({\r\n\t\t\t\topacity: 1,\r\n\t\t\t\t'pointer-events': 'all'\r\n\t\t\t});\r\n\t\t\r\n\t\twhile (i--) {\r\n\t\t\tnodel.classed(directions[i], false);\r\n\t\t}\r\n\t\tcoords = direction_callbacks.get(dir).call(this,nodel);\r\n\t\tvar offsetTop = (coords.top + poffset[0]) + scrollTop,\r\n\t\t\toffsetLeft = (coords.left + poffset[1]) + scrollLeft,\r\n\r\n\t\t\toffsests=transPosition(nodel, dir, offsetTop, offsetLeft);\r\n\r\n\r\n\t\tnodel.classed(dir, true).style({\r\n\t\t\ttop: offsests[0] + 'px',\r\n\t\t\tleft: offsests[1] + 'px'\r\n\t\t});\r\n\r\n\t\treturn tip;\r\n\t};\r\n\t\r\n\t// Public - hide the tooltip\r\n\t//\r\n\t// Returns a tip\r\n\ttip.hide = function () {\r\n\t\tvar nodel = getNodeEl();\r\n\t\tnodel.style({\r\n\t\t\topacity: 0,\r\n\t\t\t'pointer-events': 'none'\r\n\t\t});\r\n\t\treturn tip;\r\n\t};\r\n\t// Public: Proxy attr calls to the d3 tip container.  Sets or gets attribute value.\r\n\t//\r\n\t// n - name of the attribute\r\n\t// v - value of the attribute\r\n\t//\r\n\t// Returns tip or attribute value\r\n\ttip.attr = function (n, v) {\r\n\t\tif (arguments.length < 2 && typeof n === 'string') {\r\n\t\t\treturn getNodeEl().attr(n);\r\n\t\t} else {\r\n\t\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\t\td3.selection.prototype.attr.apply(getNodeEl(), args);\r\n\t\t}\r\n\r\n\t\treturn tip;\r\n\t};\r\n\r\n\t// Public: Proxy style calls to the d3 tip container.  Sets or gets a style value.\r\n\t//\r\n\t// n - name of the property\r\n\t// v - value of the property\r\n\t//\r\n\t// Returns tip or style property value\r\n\ttip.style = function (n, v) {\r\n\t\tif (arguments.length < 2 && typeof n === 'string') {\r\n\t\t\treturn getNodeEl().style(n);\r\n\t\t} else {\r\n\t\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\t\td3.selection.prototype.style.apply(getNodeEl(), args);\r\n\t\t}\r\n\r\n\t\treturn tip;\r\n\t};\r\n\r\n\t// Public: Set or get the direction of the tooltip\r\n\t//\r\n\t// v - One of n(north), s(south), e(east), or w(west), nw(northwest),\r\n\t//     sw(southwest), ne(northeast) or se(southeast)\r\n\t//\r\n\t// Returns tip or direction\r\n\ttip.direction = function (v) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn direction;\r\n\t\t}\r\n\t\tdirection = v == null ? v : d3.functor(v);\r\n\r\n\t\treturn tip;\r\n\t};\r\n\r\n\t// Public: Sets or gets the offset of the tip\r\n\t//\r\n\t// v - Array of [x, y] offset\r\n\t//\r\n\t// Returns offset or\r\n\ttip.offset = function (v) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn offset;\r\n\t\t}\r\n\t\toffset = v == null ? v : d3.functor(v);\r\n\t\treturn tip;\r\n\t};\r\n\r\n\t// Public: sets or gets the html value of the tooltip\r\n\t//\r\n\t// v - String value of the tip\r\n\t//\r\n\t// Returns html value or tip\r\n\ttip.html = function (v) {\r\n\t\tif (!arguments.length) {\r\n\t\t\treturn html;\r\n\t\t}\r\n\t\thtml = v == null ? v : d3.functor(v);\r\n\r\n\t\treturn tip;\r\n\t};\r\n\ttip.getNodeEl = function () {\r\n\t\treturn getNodeEl();\r\n\t};\r\n\t// Public: destroys the tooltip and removes it from the DOM\r\n\t//\r\n\t// Returns a tip\r\n\ttip.destroy = function () {\r\n\t\tif (node) {\r\n\t\t\tgetNodeEl().remove();\r\n\t\t\tnode = null;\r\n\t\t}\r\n\t\treturn tip;\r\n\t};\r\n\r\n\tfunction d3_tip_direction() {\r\n\t\treturn 'n';\r\n\t}\r\n\r\n\tfunction d3_tip_offset() {\r\n\t\treturn [0, 0];\r\n\t}\r\n\r\n\tfunction d3_tip_html() {\r\n\t\treturn ' ';\r\n\t}\r\n\t\r\n\tvar direction_callbacks = d3.map({\r\n\t\t\tn: direction_n,\r\n\t\t\ts: direction_s,\r\n\t\t\te: direction_e,\r\n\t\t\tw: direction_w,\r\n\t\t\tnw: direction_nw,\r\n\t\t\tne: direction_ne,\r\n\t\t\tsw: direction_sw,\r\n\t\t\tse: direction_se\r\n\t\t}),\r\n\r\n\t\tdirections = direction_callbacks.keys();\r\n\r\n\tfunction direction_n() {\r\n\t\tvar bbox = getScreenBBox();\r\n\t\treturn {\r\n\t\t\ttop: bbox.n.y - node.offsetHeight,\r\n\t\t\tleft: bbox.n.x - node.offsetWidth / 2\r\n\t\t};\r\n\t}\r\n\r\n\tfunction direction_s() {\r\n\t\tvar bbox = getScreenBBox();\r\n\t\treturn {\r\n\t\t\ttop: bbox.s.y,\r\n\t\t\tleft: bbox.s.x - node.offsetWidth / 2\r\n\t\t};\r\n\t}\r\n\r\n\tfunction direction_e() {\r\n\t\tvar bbox = getScreenBBox();\r\n\t\treturn {\r\n\t\t\ttop: bbox.e.y - node.offsetHeight / 2,\r\n\t\t\tleft: bbox.e.x\r\n\t\t};\r\n\t}\r\n\r\n\tfunction direction_w() {\r\n\t\tvar bbox = getScreenBBox();\r\n\t\treturn {\r\n\t\t\ttop: bbox.w.y - node.offsetHeight / 2,\r\n\t\t\tleft: bbox.w.x - node.offsetWidth\r\n\t\t};\r\n\t}\r\n\r\n\tfunction direction_nw() {\r\n\t\tvar bbox = getScreenBBox();\r\n\t\treturn {\r\n\t\t\ttop: bbox.nw.y - node.offsetHeight,\r\n\t\t\tleft: bbox.nw.x - node.offsetWidth\r\n\t\t};\r\n\t}\r\n\r\n\tfunction direction_ne() {\r\n\t\tvar bbox = getScreenBBox();\r\n\t\treturn {\r\n\t\t\ttop: bbox.ne.y - node.offsetHeight,\r\n\t\t\tleft: bbox.ne.x\r\n\t\t};\r\n\t}\r\n\r\n\tfunction direction_sw() {\r\n\t\tvar bbox = getScreenBBox();\r\n\t\treturn {\r\n\t\t\ttop: bbox.sw.y,\r\n\t\t\tleft: bbox.sw.x - node.offsetWidth\r\n\t\t};\r\n\t}\r\n\r\n\tfunction direction_se() {\r\n\t\tvar bbox = getScreenBBox();\r\n\t\treturn {\r\n\t\t\ttop: bbox.se.y,\r\n\t\t\tleft: bbox.e.x\r\n\t\t};\r\n\t}\r\n\t/**\r\n\t * tip在边缘时会出现无法完全显示的问题, 此方法用来修正 其位置\r\n\t * @param  {d3} nodel tip的元素\r\n\t * @param  {string} dir   tip方向\r\n\t * @param  {number} top   绝对定位 top大小\r\n\t * @param  {number} left  绝对定位 left大小\r\n\t * @return {[number,number]}       新的 [top,left]\r\n\t */\r\n\tfunction transPosition(nodel,dir,top,left){\r\n\t\tvar nodeWidth = Number(nodel.style('width').split('px')[0]),\r\n\t\t\tnodeHeight = Number(nodel.style('height').split('px')[0]),\r\n\t\t\tbodyWidth = Number(d3.select('body').style('width').split('px')[0]),\r\n\t\t\tbodyHeight = Number(d3.select('body').style('height').split('px')[0]);\r\n\t\tswitch (dir){\r\n\t\t\tcase \"n\":\r\n\t\t\t\ttransDir_n();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tfunction transDir_n(){\r\n\t\t\tif(d3.event.x <= nodeWidth/2){\r\n\t\t\t\tleft += (nodeWidth/2 - d3.event.x);\r\n\t\t\t}\r\n\t\t\tif(d3.event.y - 20 <= nodeHeight){\r\n\t\t\t\ttop += (nodeHeight - d3.event.y + 20);\r\n\t\t\t}\r\n\t\t\tif( bodyWidth - d3.event.x - 20 <= nodeWidth/2 ){\r\n\t\t\t\tleft = left - (nodeWidth/2 - bodyWidth + d3.event.x + 20);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn [top, left];\r\n\t}\r\n\tfunction initNode() {\r\n\t\tvar node = d3.select(document.createElement('div'));\r\n\t\tnode.style({\r\n\t\t\tposition: 'absolute',\r\n\t\t\ttop: 0,\r\n\t\t\topacity: 0,\r\n\t\t\t'pointer-events': 'none',\r\n\t\t\t'box-sizing': 'border-box'\r\n\t\t});\r\n\r\n\t\treturn node.node();\r\n\t}\r\n\r\n\tfunction getSVGNode(el) {\r\n\t\tel = el.node();\r\n\t\tif (el.tagName.toLowerCase() === 'svg') {\r\n\t\t\treturn el;\r\n\t\t}\r\n\r\n\t\treturn el.ownerSVGElement;\r\n\t}\r\n\r\n\tfunction getNodeEl() {\r\n\t\tif (node === null) {\r\n\t\t\tnode = initNode();\r\n\t\t\t// re-add node to DOM\r\n\t\t\tdocument.body.appendChild(node);\r\n\t\t}\r\n\t\treturn d3.select(node);\r\n\t}\r\n\r\n\t// Private - gets the screen coordinates of a shape\r\n\t//\r\n\t// Given a shape on the screen, will return an SVGPoint for the directions\r\n\t// n(north), s(south), e(east), w(west), ne(northeast), se(southeast), nw(northwest),\r\n\t// sw(southwest).\r\n\t//\r\n\t//    +-+-+\r\n\t//    |   |\r\n\t//    +   +\r\n\t//    |   |\r\n\t//    +-+-+\r\n\t//\r\n\t// Returns an Object {n, s, e, w, nw, sw, ne, se}\r\n\tfunction getScreenBBox() {\r\n\t\tvar targetel = target || d3.event.target;\r\n\r\n\t\twhile ('undefined' === typeof targetel.getScreenCTM && 'undefined' === targetel.parentNode) {\r\n\t\t\ttargetel = targetel.parentNode;\r\n\t\t}\r\n\r\n\t\tvar bbox = {},\r\n\t\t\tmatrix = targetel.getScreenCTM(),\r\n\t\t\ttbbox = targetel.getBBox(),\r\n\t\t\twidth = tbbox.width,\r\n\t\t\theight = tbbox.height,\r\n\t\t\tx = tbbox.x,\r\n\t\t\ty = tbbox.y;\r\n\t\tpoint.x = x;\r\n\t\tpoint.y = y;\r\n\t\tbbox.nw = point.matrixTransform(matrix);\r\n\t\tpoint.x += width;\r\n\t\tbbox.ne = point.matrixTransform(matrix);\r\n\t\tpoint.y += height;\r\n\t\tbbox.se = point.matrixTransform(matrix);\r\n\t\tpoint.x -= width;\r\n\t\tbbox.sw = point.matrixTransform(matrix);\r\n\t\tpoint.y -= height / 2;\r\n\t\tbbox.w = point.matrixTransform(matrix);\r\n\t\tpoint.x += width;\r\n\t\tbbox.e = point.matrixTransform(matrix);\r\n\t\tpoint.x -= width / 2;\r\n\t\tpoint.y -= height / 2;\r\n\t\tbbox.n = point.matrixTransform(matrix);\r\n\t\tpoint.y += height;\r\n\t\tbbox.s = point.matrixTransform(matrix);\r\n\t\treturn bbox;\r\n\t}\r\n\r\n\treturn tip;\r\n};\n\n\n/** WEBPACK FOOTER **\n ** src/tooltip.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/css/tooltip.less\n ** module id = 6\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/css/realTimeline.less\n ** module id = 7\n ** module chunks = 0\n **/","var axisUtil = function () {\r\n\t/**\r\n\t * @param axis.api {{}} 坐标轴绘制等暴露的方法\r\n\t * */\r\n\tvar axis = {};\r\n\t// 当前为 d3元素\r\n\tconst _this = this;\r\n\tif (_this.empty()) {\r\n\t\tconsole.warn(\"can't find element to append axis, don't generate axis!\");\r\n\t}\r\n\tconst commonConfig = {\r\n\t\t/** @type {Array} x,y坐标轴最多显示多少坐标 */\r\n\t\tticks: [5, 5],\r\n\t\t/** @tpye {Array} x,y 坐标轴 内容方向 */\r\n\t\torient: [\"bottom\", \"left\"],\r\n\t\t/** @type {Array} x,y format函数 */\r\n\t\ttickFormat: [null, null],\r\n\t\t/** @type {string} 坐标轴类型 */\r\n\t\taxisType: \"linear\",\r\n\t\t/** @type {string} x坐标轴样式*/\r\n\t\txClass: \"x axis\",\r\n\t\t/** @type {string} y坐标轴样式*/\r\n\t\tyClass: \"y axis\",\r\n\t\t/** @type {object} x坐标轴其他属性*/\r\n\t\txAttr: {},\r\n\t\t/** @type {object} y坐标轴其他属性*/\r\n\t\tyAttr: {},\r\n\t\t/** @type {Array} x,y坐标轴是否进行动画*/\r\n\t\tanimation: [null, null],\r\n\t\t/** @type {boolean} 网格背景线 */\r\n\t\t// 功能未实现\r\n\t\ttableGrid: false\r\n\t};\r\n\tvar axisParams = Array.prototype.slice.call(arguments)[0] ? Array.prototype.slice.call(arguments)[0] : {};\r\n\tvar config = _.extend({}, commonConfig, axisParams);\r\n\r\n\tfunction switchAxisType() {\r\n\t\tswitch (config.axisType) {\r\n\t\t\tcase \"linear\":\r\n\t\t\t\tlinearAxis();\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tfunction linearAxis() {\r\n\t\tvar domain_x = config.domainX,\r\n\t\t\tdomain_y = config.domainY,\r\n\t\t\trange_x = config.rangeX,\r\n\t\t\trange_y = config.rangeY;\r\n\t\tvar xFunc = d3.scale.linear()\r\n\t\t\t.domain(domain_x)\r\n\t\t\t.range(range_x);\r\n\r\n\t\tvar yFunc = d3.scale.linear()\r\n\t\t\t.domain(domain_y)\r\n\t\t\t.range(range_y);\r\n\r\n\t\taxis.x = xFunc;\r\n\t\taxis.y = yFunc;\r\n\t\taxis.xaxis = d3.svg.axis()\r\n\t\t\t.scale(xFunc)\r\n\t\t\t.orient(config.orient[0])\r\n\t\t\t.ticks(config.ticks[0])\r\n\t\t\t.tickFormat(config.tickFormat[0]);\r\n\t\taxis.yaxis = d3.svg.axis()\r\n\t\t\t.scale(yFunc)\r\n\t\t\t.orient(config.orient[1])\r\n\t\t\t.ticks(config.ticks[1])\r\n\t\t\t.tickFormat(config.tickFormat[1]);\r\n\t}\r\n\r\n\tfunction drawAxis() {\r\n\t\tvar attrParams = Array.prototype.slice.call(arguments)[0] ? Array.prototype.slice.call(arguments)[0] : {};\r\n\r\n\t\t_this.append('g')\r\n\t\t\t.attr('class', config.xClass)\r\n\t\t\t.attr(attrParams.xAttr ? _.extend(config.xAttr, attrParams.xAttr) : config.xAttr)\r\n\t\t\t.call(axis.xaxis);\r\n\r\n\t\t_this.append('g')\r\n\t\t\t.attr('class', config.yClass)\r\n\t\t\t.attr(attrParams.yAttr ? _.extend(config.yAttr, attrParams.yAttr) : config.yAttr)\r\n\t\t\t.call(axis.yaxis);\r\n\r\n\t\treturn axis;\r\n\t}\r\n\r\n\tfunction updateAxis() {\r\n\t\tvar updateParams = Array.prototype.slice.call(arguments)[0] ? Array.prototype.slice.call(arguments)[0] : {};\r\n\t\tconfig = _.extend({}, config, updateParams);\r\n\t\tswitchAxisType();\r\n\t\tvar xaxisEl = _this.select(\"g.\" + (_.compact(config.xClass.split(' '))).join('.'));\r\n\t\tvar yaxisEl = _this.select(\"g.\" + (_.compact(config.yClass.split(' '))).join('.'));\r\n\t\tif (config.animation[0]) {\r\n\t\t\tconfig.animation[0].call(axis, xaxisEl);\r\n\t\t} else {\r\n\t\t\txaxisEl.call(axis.xaxis);\r\n\t\t}\r\n\r\n\t\tif (config.animation[1]) {\r\n\t\t\tconfig.animation[1].call(axis, yaxisEl);\r\n\t\t} else {\r\n\t\t\tyaxisEl.call(axis.yaxis);\r\n\t\t}\r\n\t\treturn axis;\r\n\t}\r\n\r\n\tswitchAxisType();\r\n\taxis.api = {\r\n\t\tdrawAxis: drawAxis,\r\n\t\tupdateAxis: updateAxis\r\n\t};\r\n\treturn axis;\r\n};\r\nmodule.exports = axisUtil;\n\n\n/** WEBPACK FOOTER **\n ** src/axis.js\n **/","const legendColor = require('./legend/color');\r\nconst legendSize = require('./legend/size');\r\nconst legendSymbol = require('./legend/symbol');\r\n\r\nfunction defaultLegend() {\r\n\tconst _this = this;\r\n\tvar legendApi = {};\r\n\tif (_this.empty()) {\r\n\t\treturn;\r\n\t}\r\n\tvar commonConfig = {\r\n\t\t/** @type {String} legend位置 [s,x,z,y,zs,zx,ys,yx,m] s:上 x:下 z:左 y:右 zs:左上 zx:左下 ys:右上 yx右下 m中间*/\r\n\t\t//  zs-- s -- ys\r\n\t\t//   |   |    |\r\n\t\t//   z   m    y\r\n\t\t//   |   |    |\r\n\t\t//  zx-- x -- yx\r\n\t\tposition: \"zs\",\r\n\t\t/** @type {String} 坐标的种类*/\r\n\t\torient: 'vertical',\r\n\t\t/** @type {String} 摆放的方向*/\r\n\t\ttype: 'ordinal',\r\n\t\t/** @type {Array} key值 */\r\n\t\tscale_domain: [],\r\n\t\t/** @type {Array} value值 */\r\n\t\tscale_range: [],\r\n\t\tshapePadding: 5,\r\n\t\tlabelOffset: 5,\r\n\t\ttransOffset: [0, 0],\r\n\t\tclassPrefix: null,\r\n\t\tcellclick: null,\r\n\t\tcellover: null,\r\n\t\tcellout: null,\r\n\t\tlegendClass: 'mlpLegend'\r\n\t};\r\n\tvar legendParams = Array.prototype.slice.call(arguments)[0] ? Array.prototype.slice.call(arguments)[0] : {};\r\n\tvar config = _.extend({}, commonConfig, legendParams);\r\n\tswitch (config.type) {\r\n\t\tcase 'ordinal':\r\n\t\t\tordinalLegend();\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tconsole.log('undefined type', config.type);\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tfunction ordinalLegend() {\r\n\t\tvar ordinal = d3.scale.ordinal()\r\n\t\t\t.domain(config.scale_domain)\r\n\t\t\t.range(config.scale_range);\r\n\r\n\t\tvar legendOrdinal = legendColor()\r\n\t\t\t.shape(\"path\", d3.svg.symbol().type(\"circle\").size(150)())\r\n\t\t\t.shapePadding(config.shapePadding)\r\n\t\t\t.labelOffset(config.labelOffset)\r\n\t\t\t.classPrefix(config.classPrefix)\r\n\t\t\t.orient(config.orient)\r\n\t\t\t.scale(ordinal)\r\n\t\t\t.on(\"cellclick\", config.cellclick)\r\n\t\t\t.on('cellover', config.cellover)\r\n\t\t\t.on('cellout', config.cellout);\r\n\t\t_this.append(\"g\")\r\n\t\t\t.attr(\"class\", config.legendClass)\r\n\t\t\t.call(legendOrdinal);\r\n\t\ttransPosition();\r\n\t}\r\n\t\r\n\tfunction transPosition() {\r\n\t\tvar nodeMatrix = _this.node().getBBox(),\r\n\t\t\tlegendEl = _this.select('.' + config.legendClass),\r\n\t\t\tlegendElMatrix = legendEl.node().getBBox(),\r\n\t\t\ttarnsX = config.transOffset[0],\r\n\t\t\ttransY = config.transOffset[1];\r\n\t\tswitch (config.position) {\r\n\t\t\tcase \"zs\":\r\n\t\t\t\tzs();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"s\":\r\n\t\t\t\ts();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ys\":\r\n\t\t\t\tys();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"z\":\r\n\t\t\t\tz();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"m\":\r\n\t\t\t\tm();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"y\":\r\n\t\t\t\ty();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"zx\":\r\n\t\t\t\tzx();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"x\":\r\n\t\t\t\tx();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"yx\":\r\n\t\t\t\tyx();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tzs();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tfunction zs() {\r\n\t\t\ttarnsX += 50;\r\n\t\t\ttransY += 10;\r\n\t\t}\r\n\t\tfunction s(){\r\n\t\t\ttransY += 10;\r\n\t\t\ttarnsX += nodeMatrix.width /2 - legendElMatrix.width / 2;\r\n\t\t}\r\n\t\tfunction ys(){\r\n\t\t\ttarnsX += -20;\r\n\t\t\ttransY += 10;\r\n\t\t\ttarnsX += nodeMatrix.width - legendElMatrix.width;\r\n\t\t}\r\n\t\tfunction z(){\r\n\t\t\ttarnsX += 50;\r\n\t\t\ttransY += nodeMatrix.height /2 - legendElMatrix.height / 2;\r\n\t\t}\r\n\t\tfunction m(){\r\n\t\t\ttarnsX += nodeMatrix.width /2 - legendElMatrix.width / 2;\r\n\t\t\ttransY += nodeMatrix.height /2 - legendElMatrix.height / 2;\r\n\t\t}\r\n\t\tfunction y(){\r\n\t\t\ttarnsX += -20;\r\n\t\t\ttransY += nodeMatrix.height /2 - legendElMatrix.height / 2;\r\n\t\t\ttarnsX += nodeMatrix.width - legendElMatrix.width;\r\n\t\t}\r\n\t\tfunction zx(){\r\n\t\t\ttarnsX += 50;\r\n\t\t\ttransY += -40;\r\n\t\t\ttransY += nodeMatrix.height  - legendElMatrix.height ;\r\n\t\t}\r\n\t\tfunction x(){\r\n\t\t\ttransY += -40;\r\n\t\t\ttarnsX += nodeMatrix.width /2 - legendElMatrix.width / 2;\r\n\t\t\ttransY += nodeMatrix.height  - legendElMatrix.height ;\r\n\t\t}\r\n\t\tfunction yx(){\r\n\t\t\ttarnsX += -20;\r\n\t\t\ttransY += -40;\r\n\t\t\ttarnsX += nodeMatrix.width - legendElMatrix.width;\r\n\t\t\ttransY += nodeMatrix.height  - legendElMatrix.height ;\r\n\t\t}\r\n\t\tlegendEl.attr(\"transform\", \"translate(\" + tarnsX + \",\" + transY + \")\");\r\n\t}\r\n\tlegendApi.remove = function(){\r\n\t\t_this.select('.' + config.legendClass).remove();\r\n\t};\r\n\treturn legendApi;\r\n}\r\nmodule.exports = {\r\n\tcolor: legendColor,\r\n\tsize: legendSize,\r\n\tsymbol: legendSymbol,\r\n\tdefaultLegend: defaultLegend\r\n};\n\n\n/** WEBPACK FOOTER **\n ** src/legend.index.js\n **/","var helper = require('./legend');\r\n\r\nmodule.exports = function(){\r\n\r\n  var scale = d3.scale.linear(),\r\n    shape = \"rect\",\r\n    shapeWidth = 15,\r\n    shapeHeight = 15,\r\n    shapeRadius = 10,\r\n    shapePadding = 2,\r\n    cells = [5],\r\n    labels = [],\r\n    classPrefix = \"\",\r\n    useClass = false,\r\n    title = \"\",\r\n    labelFormat = d3.format(\".01f\"),\r\n    labelOffset = 10,\r\n    labelAlign = \"middle\",\r\n    labelDelimiter = \"to\",\r\n    orient = \"vertical\",\r\n    ascending = false,\r\n    path,\r\n    legendDispatcher = d3.dispatch(\"cellover\", \"cellout\", \"cellclick\");\r\n\r\n    function legend(svg){\r\n\r\n      var type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\r\n        legendG = svg.selectAll('g').data([scale]);\r\n\r\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\r\n\r\n\r\n    var cell = legendG.selectAll(\".\" + classPrefix + \"cell\").data(type.data),\r\n        cellEnter = cell.enter().append(\"g\", \".cell\").attr(\"class\", classPrefix + \"cell\").style(\"opacity\", 1e-6),\r\n        shapeEnter = cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\"),\r\n        shapes = cell.select(\"g.\" + classPrefix + \"cell \" + shape);\r\n\r\n      //add event handlers\r\n      helper.d3_addEvents(cellEnter, legendDispatcher);\r\n\r\n      cell.exit().transition().style(\"opacity\", 0).remove();\r\n\r\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path);\r\n\r\n      helper.d3_addText(legendG, cellEnter, type.labels, classPrefix);\r\n\r\n      // sets placement\r\n      var text = cell.select(\"text\"),\r\n        shapeSize = shapes[0].map( function(d){ return d.getBBox(); });\r\n       \r\n      //sets scale\r\n      //everything is fill except for line which is stroke,\r\n      if (!useClass){\r\n        if (shape == \"line\"){\r\n          shapes.style(\"stroke\", type.feature);\r\n        } else {\r\n          shapes.style(\"fill\", type.feature);\r\n        }\r\n      } else {\r\n        shapes.attr(\"class\", function(d){ return classPrefix + \"swatch \" + type.feature(d); });\r\n      }\r\n\r\n      var cellTrans,\r\n      textTrans,\r\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\r\n\r\n      //positions cells and text\r\n      if (orient === \"vertical\"){\r\n        cellTrans = function(d,i) { return \"translate(0, \" + (i * (shapeSize[i].height + shapePadding)) + \")\"; };\r\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width + shapeSize[i].x +\r\n          labelOffset) + \",\" + (shapeSize[i].y + shapeSize[i].height/2 + 5) + \")\"; };\r\n\r\n      } else if (orient === \"horizontal\"){\r\n        cellTrans = function(d,i) { \r\n          return \"translate(\" + (i * (shapeSize[i].width + shapePadding)) + \",0)\"; \r\n        };\r\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width*textAlign  + shapeSize[i].x) +\r\n          \",\" + (shapeSize[i].height + shapeSize[i].y + labelOffset + 8) + \")\"; };\r\n      } else if(orient === \"inline\"){\r\n        cellTrans = function(d,i) { \r\n          return \"translate(\" + (i * (shapeSize[i].width + shapePadding)) + \",0)\"; \r\n        };\r\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width*textAlign  + shapeSize[i].x) +\r\n          \",\" + (shapeSize[i].height + shapeSize[i].y + labelOffset + 8) + \")\"; };\r\n      }\r\n\r\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\r\n      helper.d3_title(svg, legendG, title, classPrefix);\r\n\r\n      cell.transition().style(\"opacity\", 1);\r\n\r\n    }\r\n\r\n\r\n\r\n  legend.scale = function(_) {\r\n    if (!arguments.length) return scale;\r\n    scale = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.cells = function(_) {\r\n    if (!arguments.length) return cells;\r\n    if (_.length > 1 || _ >= 2 ){\r\n      cells = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.shape = function(_, d) {\r\n    if (!arguments.length) return shape;\r\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" || (_ == \"path\" && (typeof d === 'string')) ){\r\n      shape = _;\r\n      path = d;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeWidth = function(_) {\r\n    if (!arguments.length) return shapeWidth;\r\n    shapeWidth = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeHeight = function(_) {\r\n    if (!arguments.length) return shapeHeight;\r\n    shapeHeight = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeRadius = function(_) {\r\n    if (!arguments.length) return shapeRadius;\r\n    shapeRadius = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapePadding = function(_) {\r\n    if (!arguments.length) return shapePadding;\r\n    shapePadding = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labels = function(_) {\r\n    if (!arguments.length) return labels;\r\n    labels = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelAlign = function(_) {\r\n    if (!arguments.length) return labelAlign;\r\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\r\n      labelAlign = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.labelFormat = function(_) {\r\n    if (!arguments.length) return labelFormat;\r\n    labelFormat = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelOffset = function(_) {\r\n    if (!arguments.length) return labelOffset;\r\n    labelOffset = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelDelimiter = function(_) {\r\n    if (!arguments.length) return labelDelimiter;\r\n    labelDelimiter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.useClass = function(_) {\r\n    if (!arguments.length) return useClass;\r\n    if (_ === true || _ === false){\r\n      useClass = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.orient = function(_){\r\n    if (!arguments.length) return orient;\r\n    _ = _.toLowerCase();\r\n    if (_ == \"horizontal\" || _ == \"vertical\" || _ == \"inline\") {\r\n      orient = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.ascending = function(_) {\r\n    if (!arguments.length) return ascending;\r\n    ascending = !!_;\r\n    return legend;\r\n  };\r\n\r\n  legend.classPrefix = function(_) {\r\n    if (!arguments.length) return classPrefix;\r\n    classPrefix = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.title = function(_) {\r\n    if (!arguments.length) return title;\r\n    title = _;\r\n    return legend;\r\n  };\r\n\r\n  d3.rebind(legend, legendDispatcher, \"on\");\r\n\r\n  return legend;\r\n\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** src/legend/color.js\n **/","module.exports = {\r\n\r\n  d3_identity: function(d) {\r\n    return d;\r\n  },\r\n\r\n  d3_mergeLabels: function(gen, labels) {\r\n\r\n    if (labels.length === 0) return gen;\r\n\r\n    gen = (gen) ? gen : [];\r\n\r\n    var i = labels.length;\r\n    for (; i < gen.length; i++) {\r\n      labels.push(gen[i]);\r\n    }\r\n    return labels;\r\n  },\r\n\r\n  d3_linearLegend: function(scale, cells, labelFormat) {\r\n    var data = [];\r\n\r\n    if (cells.length > 1) {\r\n      data = cells;\r\n\r\n    } else {\r\n      var domain = scale.domain(),\r\n        increment = (domain[domain.length - 1] - domain[0]) / (cells - 1),\r\n        i = 0;\r\n\r\n      for (; i < cells; i++) {\r\n        data.push(domain[0] + i * increment);\r\n      }\r\n    }\r\n\r\n    var labels = data.map(labelFormat);\r\n\r\n    return {\r\n      data: data,\r\n      labels: labels,\r\n      feature: function(d) {\r\n        return scale(d);\r\n      }\r\n    };\r\n  },\r\n\r\n  d3_quantLegend: function(scale, labelFormat, labelDelimiter) {\r\n    var labels = scale.range().map(function(d) {\r\n      var invert = scale.invertExtent(d),\r\n        a = labelFormat(invert[0]),\r\n        b = labelFormat(invert[1]);\r\n\r\n      // if (( (a) && (a.isNan()) && b){\r\n      //   console.log(\"in initial statement\")\r\n      return labelFormat(invert[0]) + \" \" + labelDelimiter + \" \" + labelFormat(invert[1]);\r\n      // } else if (a || b) {\r\n      //   console.log('in else statement')\r\n      //   return (a) ? a : b;\r\n      // }\r\n\r\n    });\r\n\r\n    return {\r\n      data: scale.range(),\r\n      labels: labels,\r\n      feature: this.d3_identity\r\n    };\r\n  },\r\n\r\n  d3_ordinalLegend: function(scale) {\r\n    return {\r\n      data: scale.domain(),\r\n      labels: scale.domain(),\r\n      feature: function(d) {\r\n        return scale(d);\r\n      }\r\n    };\r\n  },\r\n\r\n  d3_drawShapes: function(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path) {\r\n    if (shape === \"rect\") {\r\n      shapes.attr(\"height\", shapeHeight).attr(\"width\", shapeWidth);\r\n\r\n    } else if (shape === \"circle\") {\r\n      shapes.attr(\"r\", shapeRadius) //.attr(\"cx\", shapeRadius).attr(\"cy\", shapeRadius);\r\n\r\n    } else if (shape === \"line\") {\r\n      shapes.attr(\"x1\", 0).attr(\"x2\", shapeWidth).attr(\"y1\", 0).attr(\"y2\", 0);\r\n\r\n    } else if (shape === \"path\") {\r\n      shapes.attr(\"d\", path);\r\n    }\r\n  },\r\n\r\n  d3_addText: function(svg, enter, labels, classPrefix) {\r\n    enter.append(\"text\").attr(\"class\", classPrefix + \"label\");\r\n    svg.selectAll(\"g.\" + classPrefix + \"cell text\").data(labels).text(this.d3_identity);\r\n  },\r\n\r\n  d3_calcType: function(scale, ascending, cells, labels, labelFormat, labelDelimiter) {\r\n    var type = scale.ticks ?\r\n      this.d3_linearLegend(scale, cells, labelFormat) : scale.invertExtent ?\r\n      this.d3_quantLegend(scale, labelFormat, labelDelimiter) : this.d3_ordinalLegend(scale);\r\n\r\n    type.labels = this.d3_mergeLabels(type.labels, labels);\r\n\r\n    if (ascending) {\r\n      type.labels = this.d3_reverse(type.labels);\r\n      type.data = this.d3_reverse(type.data);\r\n    }\r\n\r\n    return type;\r\n  },\r\n\r\n  d3_reverse: function(arr) {\r\n    var mirror = [];\r\n    for (var i = 0, l = arr.length; i < l; i++) {\r\n      mirror[i] = arr[l - i - 1];\r\n    }\r\n    return mirror;\r\n  },\r\n\r\n  d3_placement: function(orient, cell, cellTrans, text, textTrans, labelAlign) {\r\n    cell.attr(\"transform\", cellTrans);\r\n    text.attr(\"transform\", textTrans);\r\n    if (orient === \"horizontal\") {\r\n      text.style(\"text-anchor\", labelAlign);\r\n    }\r\n  },\r\n\r\n  d3_addEvents: function(cells, dispatcher) {\r\n    var _ = this;\r\n\r\n    cells.on(\"mouseover.legend\", function(d) {\r\n        _.d3_cellOver(dispatcher, d, this);\r\n      })\r\n      .on(\"mouseout.legend\", function(d) {\r\n        _.d3_cellOut(dispatcher, d, this);\r\n      })\r\n      .on(\"click.legend\", function(d) {\r\n        _.d3_cellClick(dispatcher, d, this);\r\n      });\r\n  },\r\n\r\n  d3_cellOver: function(cellDispatcher, d, obj) {\r\n    cellDispatcher.cellover.call(obj, d);\r\n  },\r\n\r\n  d3_cellOut: function(cellDispatcher, d, obj) {\r\n    cellDispatcher.cellout.call(obj, d);\r\n  },\r\n\r\n  d3_cellClick: function(cellDispatcher, d, obj) {\r\n    cellDispatcher.cellclick.call(obj, d);\r\n  },\r\n\r\n  d3_title: function(svg, cellsSvg, title, classPrefix) {\r\n    if (title !== \"\") {\r\n\r\n      var titleText = svg.selectAll('text.' + classPrefix + 'legendTitle');\r\n\r\n      titleText.data([title])\r\n        .enter()\r\n        .append('text')\r\n        .attr('class', classPrefix + 'legendTitle');\r\n\r\n      svg.selectAll('text.' + classPrefix + 'legendTitle')\r\n        .text(title)\r\n\r\n      var yOffset = svg.select('.' + classPrefix + 'legendTitle')\r\n        .map(function(d) {\r\n          return d[0].getBBox().height\r\n        })[0],\r\n        xOffset = -cellsSvg.map(function(d) {\r\n          return d[0].getBBox().x\r\n        })[0];\r\n\r\n      cellsSvg.attr('transform', 'translate(' + xOffset + ',' + (yOffset + 10) + ')');\r\n\r\n    }\r\n  }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** src/legend/legend.js\n **/","var helper = require('./legend');\r\n\r\nmodule.exports =  function(){\r\n\r\n  var scale = d3.scale.linear(),\r\n    shape = \"rect\",\r\n    shapeWidth = 15,\r\n    shapePadding = 2,\r\n    cells = [5],\r\n    labels = [],\r\n    useStroke = false,\r\n    classPrefix = \"\",\r\n    title = \"\",\r\n    labelFormat = d3.format(\".01f\"),\r\n    labelOffset = 10,\r\n    labelAlign = \"middle\",\r\n    labelDelimiter = \"to\",\r\n    orient = \"vertical\",\r\n    ascending = false,\r\n    path,\r\n    legendDispatcher = d3.dispatch(\"cellover\", \"cellout\", \"cellclick\");\r\n\r\n    function legend(svg){\r\n\r\n      var type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\r\n        legendG = svg.selectAll('g').data([scale]);\r\n\r\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\r\n\r\n\r\n      var cell = legendG.selectAll(\".\" + classPrefix + \"cell\").data(type.data),\r\n        cellEnter = cell.enter().append(\"g\", \".cell\").attr(\"class\", classPrefix + \"cell\").style(\"opacity\", 1e-6),\r\n        shapeEnter = cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\"),\r\n        shapes = cell.select(\"g.\" + classPrefix + \"cell \" + shape);\r\n\r\n      //add event handlers\r\n      helper.d3_addEvents(cellEnter, legendDispatcher);\r\n\r\n      cell.exit().transition().style(\"opacity\", 0).remove();\r\n\r\n      //creates shape\r\n      if (shape === \"line\"){\r\n        helper.d3_drawShapes(shape, shapes, 0, shapeWidth);\r\n        shapes.attr(\"stroke-width\", type.feature);\r\n      } else {\r\n        helper.d3_drawShapes(shape, shapes, type.feature, type.feature, type.feature, path);\r\n      }\r\n\r\n      helper.d3_addText(legendG, cellEnter, type.labels, classPrefix)\r\n\r\n      //sets placement\r\n      var text = cell.select(\"text\"),\r\n        shapeSize = shapes[0].map(\r\n          function(d, i){\r\n            var bbox = d.getBBox()\r\n            var stroke = scale(type.data[i]);\r\n\r\n            if (shape === \"line\" && orient === \"horizontal\") {\r\n              bbox.height = bbox.height + stroke;\r\n            } else if (shape === \"line\" && orient === \"vertical\"){\r\n              bbox.width = bbox.width;\r\n            }\r\n\r\n            return bbox;\r\n        });\r\n\r\n      var maxH = d3.max(shapeSize, function(d){ return d.height + d.y; }),\r\n      maxW = d3.max(shapeSize, function(d){ return d.width + d.x; });\r\n\r\n      var cellTrans,\r\n      textTrans,\r\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\r\n\r\n      //positions cells and text\r\n      if (orient === \"vertical\"){\r\n\r\n        cellTrans = function(d,i) {\r\n            var height = d3.sum(shapeSize.slice(0, i + 1 ), function(d){ return d.height; });\r\n            return \"translate(0, \" + (height + i*shapePadding) + \")\"; };\r\n\r\n        textTrans = function(d,i) { return \"translate(\" + (maxW + labelOffset) + \",\" +\r\n          (shapeSize[i].y + shapeSize[i].height/2 + 5) + \")\"; };\r\n\r\n      } else if (orient === \"horizontal\"){\r\n        cellTrans = function(d,i) {\r\n            var width = d3.sum(shapeSize.slice(0, i + 1 ), function(d){ return d.width; });\r\n            return \"translate(\" + (width + i*shapePadding) + \",0)\"; };\r\n\r\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width*textAlign  + shapeSize[i].x) + \",\" +\r\n              (maxH + labelOffset ) + \")\"; };\r\n      }\r\n\r\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\r\n      helper.d3_title(svg, legendG, title, classPrefix);\r\n\r\n      cell.transition().style(\"opacity\", 1);\r\n\r\n    }\r\n\r\n  legend.scale = function(_) {\r\n    if (!arguments.length) return scale;\r\n    scale = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.cells = function(_) {\r\n    if (!arguments.length) return cells;\r\n    if (_.length > 1 || _ >= 2 ){\r\n      cells = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n\r\n  legend.shape = function(_, d) {\r\n    if (!arguments.length) return shape;\r\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" ){\r\n      shape = _;\r\n      path = d;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeWidth = function(_) {\r\n    if (!arguments.length) return shapeWidth;\r\n    shapeWidth = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapePadding = function(_) {\r\n    if (!arguments.length) return shapePadding;\r\n    shapePadding = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labels = function(_) {\r\n    if (!arguments.length) return labels;\r\n    labels = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelAlign = function(_) {\r\n    if (!arguments.length) return labelAlign;\r\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\r\n      labelAlign = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.labelFormat = function(_) {\r\n    if (!arguments.length) return labelFormat;\r\n    labelFormat = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelOffset = function(_) {\r\n    if (!arguments.length) return labelOffset;\r\n    labelOffset = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelDelimiter = function(_) {\r\n    if (!arguments.length) return labelDelimiter;\r\n    labelDelimiter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.orient = function(_){\r\n    if (!arguments.length) return orient;\r\n    _ = _.toLowerCase();\r\n    if (_ == \"horizontal\" || _ == \"vertical\") {\r\n      orient = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.ascending = function(_) {\r\n    if (!arguments.length) return ascending;\r\n    ascending = !!_;\r\n    return legend;\r\n  };\r\n\r\n  legend.classPrefix = function(_) {\r\n    if (!arguments.length) return classPrefix;\r\n    classPrefix = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.title = function(_) {\r\n    if (!arguments.length) return title;\r\n    title = _;\r\n    return legend;\r\n  };\r\n\r\n  d3.rebind(legend, legendDispatcher, \"on\");\r\n\r\n  return legend;\r\n\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** src/legend/size.js\n **/","var helper = require('./legend');\r\n\r\nmodule.exports = function(){\r\n\r\n  var scale = d3.scale.linear(),\r\n    shape = \"path\",\r\n    shapeWidth = 15,\r\n    shapeHeight = 15,\r\n    shapeRadius = 10,\r\n    shapePadding = 5,\r\n    cells = [5],\r\n    labels = [],\r\n    classPrefix = \"\",\r\n    useClass = false,\r\n    title = \"\",\r\n    labelFormat = d3.format(\".01f\"),\r\n    labelAlign = \"middle\",\r\n    labelOffset = 10,\r\n    labelDelimiter = \"to\",\r\n    orient = \"vertical\",\r\n    ascending = false,\r\n    legendDispatcher = d3.dispatch(\"cellover\", \"cellout\", \"cellclick\");\r\n\r\n    function legend(svg){\r\n\r\n      var type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\r\n        legendG = svg.selectAll('g').data([scale]);\r\n\r\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\r\n\r\n      var cell = legendG.selectAll(\".\" + classPrefix + \"cell\").data(type.data),\r\n        cellEnter = cell.enter().append(\"g\", \".cell\").attr(\"class\", classPrefix + \"cell\").style(\"opacity\", 1e-6),\r\n        shapeEnter = cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\"),\r\n        shapes = cell.select(\"g.\" + classPrefix + \"cell \" + shape);\r\n\r\n      //add event handlers\r\n      helper.d3_addEvents(cellEnter, legendDispatcher);\r\n\r\n      //remove old shapes\r\n      cell.exit().transition().style(\"opacity\", 0).remove();\r\n\r\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, type.feature);\r\n      helper.d3_addText(legendG, cellEnter, type.labels, classPrefix)\r\n\r\n      // sets placement\r\n      var text = cell.select(\"text\"),\r\n        shapeSize = shapes[0].map( function(d){ return d.getBBox(); });\r\n\r\n      var maxH = d3.max(shapeSize, function(d){ return d.height; }),\r\n      maxW = d3.max(shapeSize, function(d){ return d.width; });\r\n\r\n      var cellTrans,\r\n      textTrans,\r\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\r\n\r\n      //positions cells and text\r\n      if (orient === \"vertical\"){\r\n        cellTrans = function(d,i) { return \"translate(0, \" + (i * (maxH + shapePadding)) + \")\"; };\r\n        textTrans = function(d,i) { return \"translate(\" + (maxW + labelOffset) + \",\" +\r\n              (shapeSize[i].y + shapeSize[i].height/2 + 5) + \")\"; };\r\n\r\n      } else if (orient === \"horizontal\"){\r\n        cellTrans = function(d,i) { return \"translate(\" + (i * (maxW + shapePadding)) + \",0)\"; };\r\n        textTrans = function(d,i) { return \"translate(\" + (shapeSize[i].width*textAlign  + shapeSize[i].x) + \",\" +\r\n              (maxH + labelOffset ) + \")\"; };\r\n      }\r\n\r\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\r\n      helper.d3_title(svg, legendG, title, classPrefix);\r\n      cell.transition().style(\"opacity\", 1);\r\n\r\n    }\r\n\r\n\r\n  legend.scale = function(_) {\r\n    if (!arguments.length) return scale;\r\n    scale = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.cells = function(_) {\r\n    if (!arguments.length) return cells;\r\n    if (_.length > 1 || _ >= 2 ){\r\n      cells = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.shapePadding = function(_) {\r\n    if (!arguments.length) return shapePadding;\r\n    shapePadding = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labels = function(_) {\r\n    if (!arguments.length) return labels;\r\n    labels = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelAlign = function(_) {\r\n    if (!arguments.length) return labelAlign;\r\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\r\n      labelAlign = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.labelFormat = function(_) {\r\n    if (!arguments.length) return labelFormat;\r\n    labelFormat = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelOffset = function(_) {\r\n    if (!arguments.length) return labelOffset;\r\n    labelOffset = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelDelimiter = function(_) {\r\n    if (!arguments.length) return labelDelimiter;\r\n    labelDelimiter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.orient = function(_){\r\n    if (!arguments.length) return orient;\r\n    _ = _.toLowerCase();\r\n    if (_ == \"horizontal\" || _ == \"vertical\") {\r\n      orient = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.ascending = function(_) {\r\n    if (!arguments.length) return ascending;\r\n    ascending = !!_;\r\n    return legend;\r\n  };\r\n\r\n  legend.classPrefix = function(_) {\r\n    if (!arguments.length) return classPrefix;\r\n    classPrefix = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.title = function(_) {\r\n    if (!arguments.length) return title;\r\n    title = _;\r\n    return legend;\r\n  };\r\n\r\n  d3.rebind(legend, legendDispatcher, \"on\");\r\n\r\n  return legend;\r\n\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** src/legend/symbol.js\n **/","require('./css/brush.less');\r\nmodule.exports = function () {\r\n\tvar brushApi = {};\r\n\tconst _this = this;\r\n\tif (_this.empty()) {\r\n\t\treturn;\r\n\t}\r\n\tvar commonConfig = {\r\n\t\tbrushStart: null,\r\n\t\tbrushDone: null,\r\n\t\tbrushMove: null,\r\n\t\tbrushClass: 'mlpBrush',\r\n\t\tbrushingClass: 'brushing',\r\n\t\tbrushDataFormat: function (startPos, endPos) {\r\n\t\t\tif(!endPos){\r\n\t\t\t\tendPos = startPos + 10;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tstartText: startPos + \"px\",\r\n\t\t\t\tstartWidth: startPos,\r\n\t\t\t\tendText: endPos + \"px\",\r\n\t\t\t\tendWidth: endPos,\r\n\t\t\t\trangeText: endPos - startPos + \"px\"\r\n\t\t\t};\r\n\t\t},\r\n\t\tbrushTemplate : _.template(\"<div class='brush-left'></div><div class='brush-right'></div>\"),\r\n\t\tbrushLeftInnerTemplate:_.template(\"<span class='brushSpan'><%= startText %></span><span class='brushRangeSpan' style='width:<%= rangeWidth %>px;left:<%= rangeLeft %>px;'><%= rangeText %></span>\"),\r\n\t\tbrushRightInnerTemplate: _.template(\"<span class='brushSpan'><%= endText %></span>\")\r\n\t};\r\n\tvar brushParams = Array.prototype.slice.call(arguments)[0] ? Array.prototype.slice.call(arguments)[0] : {};\r\n\tvar config = _.extend({}, commonConfig, brushParams);\r\n\tif (!config.api) {\r\n\t\tconsole.log('无法找到api');\r\n\t\treturn;\r\n\t}\r\n\tvar mlpChartApi = config.api,\r\n\t\tchartId = mlpChartApi.config.chartId,\r\n\t\tdivWrap = mlpChartApi.config.wrapContainer,\r\n\t\tbgSizeEl = _this.select('rect.mlpChart-bg').node(),\r\n\t\tsvgWrap = bgSizeEl.ownerSVGElement,\r\n\t\ttotalWidth = bgSizeEl.getBBox().width,\r\n\t\ttotalHeight = bgSizeEl.getBBox().height,\r\n\t\tctm = bgSizeEl.getScreenCTM(),\r\n\t\tbrushWrap = null,\r\n\t\tbrushWrapEl = null;\r\n\tif (d3.select('#brush_' + chartId).empty()) {\r\n\t\tbrushWrap = mlpChartApi.config.wrapContainer\r\n\t\t\t.append(\"div\")\r\n\t\t\t.attr({\r\n\t\t\t\tid: 'brush_' + chartId,\r\n\t\t\t\tclass: config.brushClass\r\n\t\t\t});\r\n\t\tbrushWrapEl = brushWrap.node();\r\n\t} else {\r\n\t\tbrushWrap = d3.select('#brush_' + chartId);\r\n\t\tbrushWrapEl = brushWrap.node();\r\n\t}\r\n\r\n\tfunction init() {\r\n\t\tbrushWrapEl.style.left = ctm.e + document.body.scrollLeft + \"px\";\r\n\t\tbrushWrapEl.style.top = ctm.f + document.body.scrollTop + \"px\";\r\n\t\tbrushWrapEl.style.width = totalWidth + \"px\";\r\n\t\tbrushWrapEl.innerHTML = config.brushTemplate();\r\n\t\tbrushWrap.select('.brush-left').attr('style', 'height:' + totalHeight + \"px\");\r\n\t\tbrushWrap.select('.brush-right').attr('style', 'height:' + totalHeight + \"px\");\r\n\t\tdivWrap.node().style.cursor = \"crosshair\";\r\n\t\tdivWrap.node().addEventListener('mousedown', handleBrushMouseDown);\r\n\t\tdivWrap.node().addEventListener('mouseup', handleBrushMouseUp);\r\n\t\tdivWrap.node().addEventListener('mousemove', handleBrushMouseMove);\r\n\t\tdocument.addEventListener('mouseup', handleBrushMouseUp);\r\n\t\treturn brushApi;\r\n\t}\r\n\tfunction rePosition(){\r\n\t\t\r\n\t}\r\n\tvar brushing = false;\r\n\r\n\tfunction handleBrushMouseMove() {\r\n\t\tif (!brushing) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar e = event || window.event;\r\n\t\tif (e.x - ctm.e < 0 || e.x - ctm.e > totalWidth - 4) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar leftBrush = brushWrapEl.querySelector('.brush-left'),\r\n\t\t\trightBrush = brushWrapEl.querySelector('.brush-right'),\r\n\t\t\tstartPoint = Number(leftBrush.getAttribute('data-startpoint')),\r\n\t\t\tnowPos = e.x - ctm.e,\r\n\t\t\tsnapBrushWidth = null;\r\n\t\tif (startPoint <= nowPos) {\r\n\t\t\tsnapBrushWidth = config.brushDataFormat(startPoint, nowPos);\r\n\t\t\trightBrush.style.width = (totalWidth - snapBrushWidth.endWidth) + \"px\";\r\n\t\t} else {\r\n\t\t\tsnapBrushWidth = config.brushDataFormat(nowPos, startPoint);\r\n\t\t\tleftBrush.style.width = snapBrushWidth.startWidth + \"px\";\r\n\t\t\trightBrush.style.width = (totalWidth - snapBrushWidth.endWidth) + \"px\";\r\n\t\t}\r\n\t\tleftBrush.innerHTML = config.brushLeftInnerTemplate({\r\n\t\t\tstartText: snapBrushWidth.startText,\r\n\t\t\trangeText: snapBrushWidth.rangeText,\r\n\t\t\trangeWidth:snapBrushWidth.endWidth - snapBrushWidth.startWidth ,\r\n\t\t\trangeLeft: snapBrushWidth.startWidth\r\n\t\t});\r\n\t\trightBrush.innerHTML = config.brushRightInnerTemplate({\r\n\t\t\tendText: snapBrushWidth.endText\r\n\t\t});\r\n\t}\r\n\r\n\tfunction handleBrushMouseDown(event) {\r\n\t\tvar e = event || window.event;\r\n\t\t//减去4是因为边框的原因\r\n\t\tif (e.x - ctm.e < 0 || e.x - ctm.e > totalWidth  - 4) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tbrushing = true;\r\n\t\tbrushWrapEl.setAttribute('class', config.brushClass + \" \" + config.brushingClass);\r\n\t\tvar leftBrush = brushWrapEl.querySelector('.brush-left'),\r\n\t\t\trightBrush = brushWrapEl.querySelector('.brush-right'),\r\n\t\t\twidthLeft = e.x - ctm.e,\r\n\t\t\tsnapBrushWidth = config.brushDataFormat(widthLeft);\r\n\t\tleftBrush.style.width = snapBrushWidth.startWidth + \"px\";\r\n\t\trightBrush.style.width = (totalWidth - snapBrushWidth.endWidth) + \"px\";\r\n\t\tleftBrush.innerHTML = config.brushLeftInnerTemplate({\r\n\t\t\tstartText: snapBrushWidth.startText,\r\n\t\t\trangeText: snapBrushWidth.rangeText,\r\n\t\t\trangeWidth:snapBrushWidth.endWidth - snapBrushWidth.startWidth ,\r\n\t\t\trangeLeft: snapBrushWidth.startWidth\r\n\t\t});\r\n\t\trightBrush.innerHTML = config.brushRightInnerTemplate({\r\n\t\t\tendText: snapBrushWidth.endText\r\n\t\t});\r\n\t\tleftBrush.setAttribute('data-startpoint', \"\" + widthLeft);\r\n\t}\r\n\r\n\tfunction handleBrushMouseUp(e) {\r\n\t\tbrushing = false;\r\n\t}\r\n\r\n\tbrushApi.init = init;\r\n\tbrushApi.on = function (eventType, callback) {\r\n\t\tif (eventType === 'brushStart') {\r\n\t\t\tconfig.brushStart = callback;\r\n\t\t}\r\n\t\tif (eventType === 'brushMove') {\r\n\t\t\tconfig.brushMove = callback;\r\n\t\t}\r\n\t\tif (eventType === 'brushDone') {\r\n\t\t\tconfig.brushDone = callback;\r\n\t\t}\r\n\t\tif( eventType === 'brushDataFormat'){\r\n\t\t\tconfig.brushDataFormat = callback;\r\n\t\t}\r\n\t\treturn brushApi;\r\n\t};\r\n\tbrushApi.rePosition = rePosition;\r\n\treturn brushApi;\r\n};\n\n\n/** WEBPACK FOOTER **\n ** src/brush.js\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/css/brush.less\n ** module id = 15\n ** module chunks = 0\n **/","var common = require('./utils/common');\r\nvar apiHelper = require('./utils/apiHelper');\r\nvar events = require('./utils/events');\r\nvar elementHelper = require('./utils/elementHelper');\r\nvar foramt = require('./utils/format');\r\nvar i18n = require('./i18n/i18n');\r\n\r\nmodule.exports = _.extend({}, common, apiHelper, events, elementHelper, foramt, i18n);\n\n\n/** WEBPACK FOOTER **\n ** src/util.js\n **/","/**\r\n * Created by zhangqing on 2016/6/30.\r\n */\r\nmodule.exports = {\r\n\tmergeConfig: function () {\r\n\t\tvar allConfig = Array.prototype.slice.call(arguments);\r\n\t\tvar config = {};\r\n\t\t_.each(allConfig, function (c) {\r\n\t\t\tconfig = _.extend(config, c);\r\n\t\t});\r\n\t\treturn config;\r\n\t},\r\n\t/**\r\n\t * 查找输入数字最接近 this(Array 数组)中 的一个数字\r\n\t * @param num 查找的数字\r\n\t * @param operation 类型\r\n\t * @returns {number}\r\n\t */\r\n\tfindCloestNumber: function (num, operation) {\r\n\t\tvar searchArr = this;\r\n\t\tif (searchArr instanceof Array) {\r\n\t\t\treturn _.min(_.filter(searchArr, function (d) {\r\n\t\t\t\treturn operation === '<' ? num < d : num >= d;\r\n\t\t\t}), function (n) {\r\n\t\t\t\treturn Math.abs(num - n);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\n\n\n/** WEBPACK FOOTER **\n ** src/utils/common.js\n **/","/**\r\n * Created by zhangqing on 2016/6/30.\r\n */\r\nmodule.exports = {\r\n\tchartApiList:[],\r\n\tgetApiByChartId: function(chartId){\r\n\t\tvar chartApiList = this.chartApiList;\r\n\t\treturn _.find(chartApiList,function(c){\r\n\t\t\treturn c.config.chartId == chartId;\r\n\t\t});\r\n\t},\r\n\tgetApiBySvgId: function(svgId){\r\n\t\tvar chartApiList = this.chartApiList;\r\n\t\treturn _.find(chartApiList, function(c){\r\n\t\t\treturn c.config.svgContainer.attr('id') === svgId;\r\n\t\t});\r\n\t}\r\n};\n\n\n/** WEBPACK FOOTER **\n ** src/utils/apiHelper.js\n **/","/**\r\n * Created by zhangqing on 2016/6/30.\r\n */\r\nmodule.exports = {\r\n\tresize: function(){\r\n\t\tif(!this.config) {return}\r\n\t\tvar wrapContainer = this.config.wrapContainer,\r\n\t\t\tsvgContainer = this.config.svgContainer,\r\n\t\t\twidthString = wrapContainer.style('width'),\r\n\t\t\theightString = wrapContainer.style('height');\r\n\t\tsvgContainer.attr({\r\n\t\t\twidth: widthString,\r\n\t\t\theightString: heightString\r\n\t\t});\r\n\t\tif(this.api && this.api.resize){\r\n\t\t\tthis.api.resize();\r\n\t\t}\r\n\t}\r\n};\n\n\n/** WEBPACK FOOTER **\n ** src/utils/events.js\n **/","/**\r\n * Created by zhangqing on 2016/6/30.\r\n */\r\nmodule.exports = {\r\n\tsvgContainerProperties: function(){\r\n\t\tif(!this.config) {return}\r\n\t\tvar svgContainer = this.config.svgContainer;\r\n\t\tvar widthString = svgContainer.style('width'),\r\n\t\t\theightString = svgContainer.style('height'),\r\n\t\t\twidth = Number(widthString.split('px')[0]),\r\n\t\t\theight = Number(heightString.split('px')[0]);\r\n\t\treturn {\r\n\t\t\tw: width,\r\n\t\t\th: height,\r\n\t\t\twidthString: widthString,\r\n\t\t\theightString: heightString\r\n\t\t};\r\n\t}\r\n\r\n};\n\n\n/** WEBPACK FOOTER **\n ** src/utils/elementHelper.js\n **/","/**\r\n * Created by zhangqing on 2016/6/30.\r\n */\r\nmodule.exports = {\r\n\tdateFormat: function (d, mode) {\r\n\t\tvar weekInfo = this.getI18N().weekInfo;\r\n\t\tvar pattern = mode ? mode : \"hh:mm:ss\";\r\n\t\tvar time = new Date(d);\r\n\t\tif (!time) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar year = time.getFullYear(),\r\n\t\t\tmonth = time.getMonth() + 1,\r\n\t\t\tday = time.getDate(),\r\n\t\t\tweek = weekInfo[\"\" + time.getDay()],\r\n\t\t\thour = time.getHours(),\r\n\t\t\tminute = time.getMinutes(),\r\n\t\t\tsecond = time.getSeconds(),\r\n\t\t\tmillSecond = time.getMilliseconds();\r\n\r\n\t\tmonth = month >= 10 ? month : \"0\" + month;\r\n\t\tday = day >= 10 ? day : \"0\" + day;\r\n\t\thour = hour === 0 ? \"00\" : hour <= 9 ? \"0\" + hour : hour;\r\n\t\tminute = minute === 0 ? \"00\" : minute <= 9 ? \"0\" + minute : minute;\r\n\t\tsecond = second === 0 ? \"00\" : second <= 9 ? \"0\" + second : second;\r\n\t\tswitch (pattern) {\r\n\t\t\tcase \"yyyy-MM-dd hh:mm:ss\":\r\n\t\t\t\treturn year + \"-\" + month + \"-\" + day + \" \" + hour + \":\" + minute + \":\" + second;\r\n\t\t\tcase \"MM:dd hh:mm:ss\":\r\n\t\t\t\treturn month + \":\" + day + \" \" + hour + \":\" + minute + \":\" + second;\r\n\t\t\tcase \"hh:mm:ss\":\r\n\t\t\t\treturn hour + \":\" + minute + \":\" + second;\r\n\t\t\tdefault:\r\n\t\t\t\treturn hour + \":\" + minute + \":\" + second;\r\n\t\t}\r\n\t},\r\n\tdateRangeFormat: function (range, mode) {\r\n\t\trange = Number(range);\r\n\t\tvar modeConfig = {\r\n\t\t\tdays: true,\r\n\t\t\thours: true,\r\n\t\t\tminutes: true,\r\n\t\t\tseconds: true,\r\n\t\t\tmillSecond: false\r\n\t\t};\r\n\t\tvar timeI18N = this.getI18N().timeInfo;\r\n\t\tif (mode) {\r\n\t\t\tmodeConfig = _.extend({}, modeConfig, mode);\r\n\t\t}\r\n\t\tif (!range) {\r\n\t\t\treturn \"invalid timeRange\";\r\n\t\t}\r\n\t\t//计算有多少天\r\n\t\tvar days = parseInt(range / (1000 * 60 * 60 * 24));\r\n\t\t//计算剩余的时间\r\n\t\tvar leftRange = range % (1000 * 60 * 60 * 24);\r\n\t\t//在剩余的时间中, 计算有多少小时\r\n\t\tvar hours = parseInt(leftRange / (1000 * 60 * 60));\r\n\t\t// 除去小时, 计算剩余的时间\r\n\t\tleftRange = leftRange % (1000 * 60 * 60);\r\n\t\t//在剩余的时间中, 计算有多少分钟\r\n\t\tvar minutes = parseInt(leftRange / (1000 * 60));\r\n\t\t//除去分钟,  计算剩余的时间\r\n\t\tleftRange = leftRange % (1000 * 60);\r\n\t\t//在剩余的时间中, 计算多少秒\r\n\t\tvar seconds = parseInt(leftRange / 1000);\r\n\t\t//再计算多少毫秒\r\n\t\tvar millSecond = parseInt(leftRange % 1000);\r\n\t\tvar output = \"\";\r\n\t\tif (days > 0 && modeConfig.days) {\r\n\t\t\toutput += days + timeI18N.day + \" \";\r\n\t\t}\r\n\t\tif (hours > 0 && modeConfig.hours) {\r\n\t\t\toutput += hours + timeI18N.hour + \" \";\r\n\t\t}\r\n\t\tif (minutes > 0 && modeConfig.minutes) {\r\n\t\t\toutput += minutes + timeI18N.minute + \" \";\r\n\t\t}\r\n\t\tif (seconds > 0 && modeConfig.seconds) {\r\n\t\t\toutput += seconds + timeI18N.second + \" \";\r\n\t\t}\r\n\t\tif (millSecond > 0 && modeConfig.millSecond) {\r\n\t\t\toutput += millSecond + timeI18N.millSecond + \" \";\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n};\n\n\n/** WEBPACK FOOTER **\n ** src/utils/format.js\n **/","/**\r\n * Created by zhangqing on 2016/6/30.\r\n */\r\nvar language = {\r\n\t\"zh\": require(\"./zh/zh.json\"),\r\n\t\"en\": require(\"./en/en.json\")\r\n};\r\nmodule.exports = {\r\n\ti18n:\"zh\",\r\n\tgetI18N:function(key){\r\n\t\tvar lan = this.i18n;\r\n\t\treturn key ? language[lan][key] : language[lan];\r\n\t},\r\n\tsetI18N: function(lan){\r\n\t\tif(lan != this.i18n && language[lan]){\r\n\t\t\tthis.i18n = lan;\r\n\t\t}\r\n\t}\r\n};\n\n\n/** WEBPACK FOOTER **\n ** src/i18n/i18n.js\n **/","module.exports = {\n\t\"weekInfo\": {\n\t\t\"0\": \"星期日\",\n\t\t\"1\": \"星期一\",\n\t\t\"2\": \"星期二\",\n\t\t\"3\": \"星期三\",\n\t\t\"4\": \"星期四\",\n\t\t\"5\": \"星期五\",\n\t\t\"6\": \"星期六\"\n\t},\n\t\"timeInfo\": {\n\t\t\"day\": \"天\",\n\t\t\"hour\": \"小时\",\n\t\t\"minute\": \"分钟\",\n\t\t\"second\": \"秒\",\n\t\t\"millSecond\": \"毫秒\"\n\t}\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/i18n/zh/zh.json\n ** module id = 23\n ** module chunks = 0\n **/","module.exports = {\n\t\"weekInfo\": {\n\t\t\"0\": \"Sun\",\n\t\t\"1\": \"Mon\",\n\t\t\"2\": \"Tue\",\n\t\t\"3\": \"Wed\",\n\t\t\"4\": \"Thu\",\n\t\t\"5\": \"Fri\",\n\t\t\"6\": \"Sat\"\n\t},\n\t\"timeInfo\": {\n\t\t\"day\": \"day\",\n\t\t\"hour\": \"hour\",\n\t\t\"minute\": \"minute\",\n\t\t\"second\": \"second\",\n\t\t\"millSecond\": \"mileSecond\"\n\t}\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/i18n/en/en.json\n ** module id = 24\n ** module chunks = 0\n **/","// removed by extract-text-webpack-plugin\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/css/style.less\n ** module id = 25\n ** module chunks = 0\n **/"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AClCA;;AAEA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClEA;;;;;;;;;;;ACGA;AACA;AADA;;;;;;;;;;;;ACCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AA9BA;AAgCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUA;AAVA;;AAYA;AAZA;AAAA;AACA;AAeA;AACA;AACA;AACA;AACA;;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AA/CA;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAGA;AAjBA;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAJA;AACA;;AASA;AACA;AAEA;AADA;AAKA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AACA;AAIA;AAMA;AADA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAIA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAIA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;;;;;;;;;;AC3eA;;;;;;;;;;AAUA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AAEA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;AACA;AAYA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;;;;;;;;;AASA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC/WA;;;;;;ACAA;;;;;;;;ACAA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;AArBA;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AAGA;AACA;AAGA;AACA;AACA;AAKA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;;;;;;;;;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AACA;AACA;AAGA;AAUA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9BA;AACA;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;;;;;;;;;AC3JA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAmBA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AAAA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;;AAIA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;ACrNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;;;AAKA;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;AAEA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAEA;AACA;AApLA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAiBA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;;AAIA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;ACtMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAkBA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;AAKA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;;AAIA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AApBA;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAGA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AADA;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC5JA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxBA;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;;;;;;;;;;ACAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAdA;;;;;;;;;;;ACAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAfA;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlFA;;;;;;;;;;;ACAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;ACjBA;;;;;","sourceRoot":""}