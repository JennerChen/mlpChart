!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define("mlpChart",["d3"],e):"object"==typeof exports?exports.mlpChart=e(require("d3")):t.mlpChart=e(t.d3)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="/lib/",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){(function(e){"use strict";var r=n(3),i=n(14),a=n(20);n(23),t.exports=function(t){function n(){var t=o.style("width"),e=o.style("height");Number(t.split("px")[0]),Number(e.split("px")[0]);c=o.append("svg").attr({id:"mlpChart-"+u,width:t,height:e,"class":"mlpChart"}),s=c.append("defs")}if("undefined"==typeof e)return void console.error("缺少d3.js");if("undefined"==typeof _)return void console.error("缺少工具类, underscore.js");var a=_.extend({},r),l=[],o=null,c=null,s=null,u=t.id?t.id:_.now();return t&&t.wrapContainer&&e.select(t.wrapContainer).node()?(o=e.select(t.wrapContainer),n(),a.utils=i,a.config={dataset:l,wrapContainer:o,svgContainer:c,defContainer:s,chartId:u},a.api=null,i.chartApiList.push(a),a):void console.error("no container, 缺少必要参数")},t.exports.utils=i,t.exports.VERSION="1.0,0",t.exports.D3VERSION=e.version,t.exports.LANGUAGE=a}).call(e,n(2))},function(e,n){e.exports=t},function(t,e,n){"use strict";t.exports={realTimeLineChart:n(4)}},function(t,e,n){(function(e){"use strict";var r=n(5);n(7);var i=function(){function t(){g.dataset}function i(){function n(){var t=[],n=[];_.map(m,function(e,r){t.push(e.name),n.push(k(r))}),P=d.defaultLegend.call(N,{type:"ordinal",position:g.legendPosition,scale_domain:t,scale_range:n,classPrefix:"realTimeLine",orient:g.legendOriention,cellclick:function(t){e.select(this).classed("hide")?(e.select(this).classed("hide",!1),O.selectAll("g.entity").each(function(n){n.name===t&&e.select(this).style("opacity","1")})):(e.select(this).classed("hide",!0),O.selectAll("g.entity").each(function(n){n.name===t&&e.select(this).style("opacity","0.1")}))},cellover:function(t){O.selectAll("g.entity").each(function(e){e.name===t&&l.call(this)})},cellout:function(t){O.selectAll("g.entity").each(function(e){e.name===t&&a.call(this)})}})}function i(t){var e=[];_.each(m,function(t){e=e.concat(t.data)});var n=[_.min(e,function(t){return t.x}).x,_.max(e,function(t){return t.x}).x];z=e.length/m.length>T;var r=b+b*(z?1/T:0),i=[0,_.max(e,function(t){return t.y}).y*g.yPadding],a={domainX:n,domainY:i,rangeX:[0,r],rangeY:[A-C[2],0],tickFormat:[function(t){return f.utils.dateFormat(t)},null],animation:[z?function(t){t.transition().duration(g.updateAnimationTime-30).ease("linear").call(L.xaxis)}:null,function(t){t.transition().duration(500).call(L.yaxis)}]};return"update"===t?L.api.updateAxis(a):u.call(N,a)}function a(){e.select(this).select("path").attr({"stroke-width":"2px",opacity:.8}),e.select(this).selectAll("circle").attr("r",3)}function l(){e.select(this).select("path").attr({"stroke-width":"4px",opacity:.9}),e.select(this).selectAll("circle").attr("r",5)}function o(){var t=null;O.selectAll("g.entity").each(function(n,i){var a=e.select(this).selectAll("circle").data(n.data);a.attr({cx:function(t,e){return L.x(t.x)},cy:function(t,e){return L.y(t.y)},cursor:"pointer"}).enter().append("circle").attr({r:3,cx:function(t,e){return L.x(t.x)},cy:function(t,e){return L.y(t.y)},fill:k(i)}).on("mouseover",function(e){g.tooltip&&(t=r().attr("class","d3-tip").html(function(t){var e="";return _.map(t.tip,function(t,n){e+="<div style='margin: 3px 0;'>"+n+" : "+t+"</div>"}),e}).offset(function(t){return[-10,0]}),O.call(t),t.show(e))}).on("mouseout",function(){g.tooltip&&t&&t.destroy()}),a.exit().remove()})}function c(){L=i("update"),O.selectAll("g.entity").data(g.dataset).select("path").attr({d:function(t,e){return B(t.data)}}),o(),z&&s()}function s(){O.selectAll("g.entity").attr("transform","translate(0,0)").transition().duration(g.updateAnimationTime-30).ease("linear").attr("transform","translate("+-b/(T-1)+",0)").each("end",function(t,e){for(;t.data.length>T;)t.data.shift()})}function h(){N.remove(),L=null,P=null}var p=g.svgContainer,x=g.defContainer,m=g.dataset,v=f.utils.svgContainerProperties.call(f),w=g.margin,b=v.w-(w[1]+w[3]),A=v.h-(w[0]+w[2]),C=g.axisMargin,k=g.color,T=g.maxNode,L=null,z=!1,P=null;g.dataReady||t();var N=p.append("g").attr("class","chartWrap").attr("transform","translate("+w[0]+","+w[1]+")");N.append("rect").attr({width:b,height:A,x:0,y:0,fill:"transparent","class":"mlpChart-bg"}),g.legend&&n(),L=i(),L.api.drawAxis({xAttr:{transform:"translate(0,"+L.y(0)+")"},yAttr:{transform:"translate(0,0)"}});var S="clip_"+_.uniqueId();x.append("clipPath").attr({id:S}).append("rect").attr({height:A,width:b,x:1});var B=e.svg.line().x(function(t,e){return L.x(t.x)}).y(function(t,e){return L.y(t.y)}),O=N.append("g").attr({"class":"chartContent","clip-path":"url(#"+S+")"});return O.selectAll("g.entity").data(m).enter().append("g").attr({"class":"entity"}).on("mouseover",l).on("mouseout",a).append("path").attr({d:function(t,e){return B(t.data)},stroke:function(t,e){return k(e)},fill:"none","stroke-width":"2px",opacity:.8}),o(),y={update:c,legendApi:P,remove:h},f}function a(t){if(y){var e=g.dataset;if(t.length==e.length)return _.each(t,function(t,n){e[n].data.push(t)}),y.update(),this}}function l(){return y&&y.remove(),i()}function o(){return y&&l(),this}function c(){return g}function s(t){return t=t?t:{},g=_.extend({},g,t),this}var u=n(8),d=n(9),f=this,h=Array.prototype.slice.call(arguments)[0]?Array.prototype.slice.call(arguments)[0]:{},p={dataReady:!!h.dataset,margin:[10,10,10,0],axisMargin:[0,20,20,0],maxNode:20,updateAnimationTime:2e3,color:e.scale.category10(),tooltip:!0,yPadding:1.1,legend:!0,legendPosition:"zs",legendOriention:"vertical"},g=f.utils.mergeConfig.call(f,f.config,p,h),y=null;return f.api={draw:i,update:a,redraw:l,resize:o,getConfig:c,setConfig:s},f};t.exports=i}).call(e,n(2))},function(t,e,n){(function(e){"use strict";n(6),t.exports=function(){function t(t){b=g(t),A=b.createSVGPoint(),document.body.appendChild(_)}function n(t,n,r,i){function a(){e.event.x<=l/2&&(i+=l/2-e.event.x),e.event.y-20<=o&&(r+=o-e.event.y+20),c-e.event.x-20<=l/2&&(i-=l/2-c+e.event.x+20)}var l=Number(t.style("width").split("px")[0]),o=Number(t.style("height").split("px")[0]),c=Number(e.select("body").style("width").split("px")[0]);Number(e.select("body").style("height").split("px")[0]);switch(n){case"n":a()}return[r,i]}function r(){return"n"}function i(){return[0,0]}function a(){return" "}function l(){var t=x();return{top:t.n.y-_.offsetHeight,left:t.n.x-_.offsetWidth/2}}function o(){var t=x();return{top:t.s.y,left:t.s.x-_.offsetWidth/2}}function c(){var t=x();return{top:t.e.y-_.offsetHeight/2,left:t.e.x}}function s(){var t=x();return{top:t.w.y-_.offsetHeight/2,left:t.w.x-_.offsetWidth}}function u(){var t=x();return{top:t.nw.y-_.offsetHeight,left:t.nw.x-_.offsetWidth}}function d(){var t=x();return{top:t.ne.y-_.offsetHeight,left:t.ne.x}}function f(){var t=x();return{top:t.sw.y,left:t.sw.x-_.offsetWidth}}function h(){var t=x();return{top:t.se.y,left:t.e.x}}function p(){var t=e.select(document.createElement("div"));return t.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),t.node()}function g(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function y(){return null===_&&(_=p(),document.body.appendChild(_)),e.select(_)}function x(){for(var t=C||e.event.target;"undefined"==typeof t.getScreenCTM&&"undefined"===t.parentNode;)t=t.parentNode;var n={},r=t.getScreenCTM(),i=t.getBBox(),a=i.width,l=i.height,o=i.x,c=i.y;return A.x=o,A.y=c,n.nw=A.matrixTransform(r),A.x+=a,n.ne=A.matrixTransform(r),A.y+=l,n.se=A.matrixTransform(r),A.x-=a,n.sw=A.matrixTransform(r),A.y-=l/2,n.w=A.matrixTransform(r),A.x+=a,n.e=A.matrixTransform(r),A.x-=a/2,A.y-=l/2,n.n=A.matrixTransform(r),A.y+=l,n.s=A.matrixTransform(r),n}var m=r,v=i,w=a,_=p(),b=null,A=null,C=null;t.show=function(){var e=Array.prototype.slice.call(arguments);e[e.length-1]instanceof SVGElement&&(C=e.pop());var r,i=w.apply(this,e),a=m.apply(this,e),l=v.apply(this,e),o=y(),c=T.length,s=document.documentElement.scrollTop||document.body.scrollTop,u=document.documentElement.scrollLeft||document.body.scrollLeft;for(o.html(i).style({opacity:1,"pointer-events":"all"});c--;)o.classed(T[c],!1);r=k.get(a).call(this,o);var d=r.top+l[0]+s,f=r.left+l[1]+u,h=n(o,a,d,f);return o.classed(a,!0).style({top:h[0]+"px",left:h[1]+"px"}),t},t.hide=function(){var e=y();return e.style({opacity:0,"pointer-events":"none"}),t},t.attr=function(n,r){if(arguments.length<2&&"string"==typeof n)return y().attr(n);var i=Array.prototype.slice.call(arguments);return e.selection.prototype.attr.apply(y(),i),t},t.style=function(n,r){if(arguments.length<2&&"string"==typeof n)return y().style(n);var i=Array.prototype.slice.call(arguments);return e.selection.prototype.style.apply(y(),i),t},t.direction=function(n){return arguments.length?(m=null==n?n:e.functor(n),t):m},t.offset=function(n){return arguments.length?(v=null==n?n:e.functor(n),t):v},t.html=function(n){return arguments.length?(w=null==n?n:e.functor(n),t):w},t.getNodeEl=function(){return y()},t.destroy=function(){return _&&(y().remove(),_=null),t};var k=e.map({n:l,s:o,e:c,w:s,nw:u,ne:d,sw:f,se:h}),T=k.keys();return t}}).call(e,n(2))},function(t,e){},function(t,e){},function(t,e,n){(function(e){"use strict";var n=function(){function t(){switch(s.axisType){case"linear":n()}}function n(){var t=s.domainX,n=s.domainY,r=s.rangeX,i=s.rangeY,l=e.scale.linear().domain(t).range(r),o=e.scale.linear().domain(n).range(i);a.x=l,a.y=o,a.xaxis=e.svg.axis().scale(l).orient(s.orient[0]).ticks(s.ticks[0]).tickFormat(s.tickFormat[0]),a.yaxis=e.svg.axis().scale(o).orient(s.orient[1]).ticks(s.ticks[1]).tickFormat(s.tickFormat[1])}function r(){var t=Array.prototype.slice.call(arguments)[0]?Array.prototype.slice.call(arguments)[0]:{};return l.append("g").attr("class",s.xClass).attr(t.xAttr?_.extend(s.xAttr,t.xAttr):s.xAttr).call(a.xaxis),l.append("g").attr("class",s.yClass).attr(t.yAttr?_.extend(s.yAttr,t.yAttr):s.yAttr).call(a.yaxis),a}function i(){var e=Array.prototype.slice.call(arguments)[0]?Array.prototype.slice.call(arguments)[0]:{};s=_.extend({},s,e),t();var n=l.select("g."+_.compact(s.xClass.split(" ")).join(".")),r=l.select("g."+_.compact(s.yClass.split(" ")).join("."));return s.animation[0]?s.animation[0].call(a,n):n.call(a.xaxis),s.animation[1]?s.animation[1].call(a,r):r.call(a.yaxis),a}var a={},l=this;l.empty()&&console.warn("can't find element to append axis, don't generate axis!");var o={ticks:[5,5],orient:["bottom","right"],tickFormat:[null,null],axisType:"linear",xClass:"x axis",yClass:"y axis",xAttr:{},yAttr:{},animation:[null,null]},c=Array.prototype.slice.call(arguments)[0]?Array.prototype.slice.call(arguments)[0]:{},s=_.extend({},o,c);return t(),a.api={drawAxis:r,updateAxis:i},a};t.exports=n}).call(e,n(2))},function(t,e,n){(function(e){"use strict";function r(){function t(){var t=e.scale.ordinal().domain(c.scale_domain).range(c.scale_range),a=i().shape("path",e.svg.symbol().type("circle").size(150)()).shapePadding(c.shapePadding).labelOffset(c.labelOffset).classPrefix(c.classPrefix).orient(c.orient).scale(t).on("cellclick",c.cellclick).on("cellover",c.cellover).on("cellout",c.cellout);r.append("g").attr("class",c.legendClass).call(a),n()}function n(){function t(){p+=50,g+=10}function e(){g+=10,p+=d.width/2-h.width/2}function n(){p+=-20,g+=10,p+=d.width-h.width}function i(){p+=50,g+=d.height/2-h.height/2}function a(){p+=d.width/2-h.width/2,g+=d.height/2-h.height/2}function l(){p+=-20,g+=d.height/2-h.height/2,p+=d.width-h.width}function o(){p+=50,g+=-40,g+=d.height-h.height}function s(){g+=-40,p+=d.width/2-h.width/2,g+=d.height-h.height}function u(){p+=-20,g+=-40,p+=d.width-h.width,g+=d.height-h.height}var d=r.node().getBBox(),f=r.select("."+c.legendClass),h=f.node().getBBox(),p=c.transOffset[0],g=c.transOffset[1];switch(c.position){case"zs":t();break;case"s":e();break;case"ys":n();break;case"z":i();break;case"m":a();break;case"y":l();break;case"zx":o();break;case"x":s();break;case"yx":u();break;default:t()}f.attr("transform","translate("+p+","+g+")")}var r=this,a={};if(!r.empty()){var l={position:"zs",orient:"vertical",type:"ordinal",scale_domain:[],scale_range:[],shapePadding:5,labelOffset:5,transOffset:[0,0],classPrefix:null,cellclick:null,cellover:null,cellout:null,legendClass:"mlpLegend"},o=Array.prototype.slice.call(arguments)[0]?Array.prototype.slice.call(arguments)[0]:{},c=_.extend({},l,o);switch(c.type){case"ordinal":t();break;default:console.log("undefined type",c.type)}return a.remove=function(){r.select("."+c.legendClass).remove()},a}}var i=n(10),a=n(12),l=n(13);t.exports={color:i,size:a,symbol:l,defaultLegend:r}}).call(e,n(2))},function(t,e,n){(function(e){"use strict";var r=n(11);t.exports=function(){function t(t){var e=r.d3_calcType(i,w,u,d,g,m),b=t.selectAll("g").data([i]);b.enter().append("g").attr("class",f+"legendCells");var A=b.selectAll("."+f+"cell").data(e.data),C=A.enter().append("g",".cell").attr("class",f+"cell").style("opacity",1e-6),k=(C.append(a).attr("class",f+"swatch"),A.select("g."+f+"cell "+a));r.d3_addEvents(C,_),A.exit().transition().style("opacity",0).remove(),r.d3_drawShapes(a,k,o,l,c,n),r.d3_addText(b,C,e.labels,f);var T=A.select("text"),L=k[0].map(function(t){return t.getBBox()});h?k.attr("class",function(t){return f+"swatch "+e.feature(t)}):"line"==a?k.style("stroke",e.feature):k.style("fill",e.feature);var z,P,N="start"==x?0:"middle"==x?.5:1;"vertical"===v?(z=function(t,e){return"translate(0, "+e*(L[e].height+s)+")"},P=function(t,e){return"translate("+(L[e].width+L[e].x+y)+","+(L[e].y+L[e].height/2+5)+")"}):"horizontal"===v&&(z=function(t,e){return"translate("+e*(L[e].width+s)+",0)"},P=function(t,e){return"translate("+(L[e].width*N+L[e].x)+","+(L[e].height+L[e].y+y+8)+")"}),r.d3_placement(v,A,z,T,P,x),r.d3_title(t,b,p,f),A.transition().style("opacity",1)}var n,i=e.scale.linear(),a="rect",l=15,o=15,c=10,s=2,u=[5],d=[],f="",h=!1,p="",g=e.format(".01f"),y=10,x="middle",m="to",v="vertical",w=!1,_=e.dispatch("cellover","cellout","cellclick");return t.scale=function(e){return arguments.length?(i=e,t):i},t.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(u=e),t):u},t.shape=function(e,r){return arguments.length?(("rect"==e||"circle"==e||"line"==e||"path"==e&&"string"==typeof r)&&(a=e,n=r),t):a},t.shapeWidth=function(e){return arguments.length?(l=+e,t):l},t.shapeHeight=function(e){return arguments.length?(o=+e,t):o},t.shapeRadius=function(e){return arguments.length?(c=+e,t):c},t.shapePadding=function(e){return arguments.length?(s=+e,t):s},t.labels=function(e){return arguments.length?(d=e,t):d},t.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(x=e),t):x},t.labelFormat=function(e){return arguments.length?(g=e,t):g},t.labelOffset=function(e){return arguments.length?(y=+e,t):y},t.labelDelimiter=function(e){return arguments.length?(m=e,t):m},t.useClass=function(e){return arguments.length?(e!==!0&&e!==!1||(h=e),t):h},t.orient=function(e){return arguments.length?(e=e.toLowerCase(),"horizontal"!=e&&"vertical"!=e||(v=e),t):v},t.ascending=function(e){return arguments.length?(w=!!e,t):w},t.classPrefix=function(e){return arguments.length?(f=e,t):f},t.title=function(e){return arguments.length?(p=e,t):p},e.rebind(t,_,"on"),t}}).call(e,n(2))},function(t,e){"use strict";t.exports={d3_identity:function(t){return t},d3_mergeLabels:function(t,e){if(0===e.length)return t;t=t?t:[];for(var n=e.length;n<t.length;n++)e.push(t[n]);return e},d3_linearLegend:function(t,e,n){var r=[];if(e.length>1)r=e;else for(var i=t.domain(),a=(i[i.length-1]-i[0])/(e-1),l=0;l<e;l++)r.push(i[0]+l*a);var o=r.map(n);return{data:r,labels:o,feature:function(e){return t(e)}}},d3_quantLegend:function(t,e,n){var r=t.range().map(function(r){var i=t.invertExtent(r);e(i[0]),e(i[1]);return e(i[0])+" "+n+" "+e(i[1])});return{data:t.range(),labels:r,feature:this.d3_identity}},d3_ordinalLegend:function(t){return{data:t.domain(),labels:t.domain(),feature:function(e){return t(e)}}},d3_drawShapes:function(t,e,n,r,i,a){"rect"===t?e.attr("height",n).attr("width",r):"circle"===t?e.attr("r",i):"line"===t?e.attr("x1",0).attr("x2",r).attr("y1",0).attr("y2",0):"path"===t&&e.attr("d",a)},d3_addText:function(t,e,n,r){e.append("text").attr("class",r+"label"),t.selectAll("g."+r+"cell text").data(n).text(this.d3_identity)},d3_calcType:function(t,e,n,r,i,a){var l=t.ticks?this.d3_linearLegend(t,n,i):t.invertExtent?this.d3_quantLegend(t,i,a):this.d3_ordinalLegend(t);return l.labels=this.d3_mergeLabels(l.labels,r),e&&(l.labels=this.d3_reverse(l.labels),l.data=this.d3_reverse(l.data)),l},d3_reverse:function(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t[r-n-1];return e},d3_placement:function(t,e,n,r,i,a){e.attr("transform",n),r.attr("transform",i),"horizontal"===t&&r.style("text-anchor",a)},d3_addEvents:function(t,e){var n=this;t.on("mouseover.legend",function(t){n.d3_cellOver(e,t,this)}).on("mouseout.legend",function(t){n.d3_cellOut(e,t,this)}).on("click.legend",function(t){n.d3_cellClick(e,t,this)})},d3_cellOver:function(t,e,n){t.cellover.call(n,e)},d3_cellOut:function(t,e,n){t.cellout.call(n,e)},d3_cellClick:function(t,e,n){t.cellclick.call(n,e)},d3_title:function(t,e,n,r){if(""!==n){var i=t.selectAll("text."+r+"legendTitle");i.data([n]).enter().append("text").attr("class",r+"legendTitle"),t.selectAll("text."+r+"legendTitle").text(n);var a=t.select("."+r+"legendTitle").map(function(t){return t[0].getBBox().height})[0],l=-e.map(function(t){return t[0].getBBox().x})[0];e.attr("transform","translate("+l+","+(a+10)+")")}}}},function(t,e,n){(function(e){"use strict";var r=n(11);t.exports=function(){function t(t){var v=r.d3_calcType(i,x,c,s,f,g),w=t.selectAll("g").data([i]);w.enter().append("g").attr("class",u+"legendCells");var _=w.selectAll("."+u+"cell").data(v.data),b=_.enter().append("g",".cell").attr("class",u+"cell").style("opacity",1e-6),A=(b.append(a).attr("class",u+"swatch"),_.select("g."+u+"cell "+a));r.d3_addEvents(b,m),_.exit().transition().style("opacity",0).remove(),"line"===a?(r.d3_drawShapes(a,A,0,l),A.attr("stroke-width",v.feature)):r.d3_drawShapes(a,A,v.feature,v.feature,v.feature,n),r.d3_addText(w,b,v.labels,u);var C,k,T=_.select("text"),L=A[0].map(function(t,e){var n=t.getBBox(),r=i(v.data[e]);return"line"===a&&"horizontal"===y?n.height=n.height+r:"line"===a&&"vertical"===y&&(n.width=n.width),n}),z=e.max(L,function(t){return t.height+t.y}),P=e.max(L,function(t){return t.width+t.x}),N="start"==p?0:"middle"==p?.5:1;"vertical"===y?(C=function(t,n){var r=e.sum(L.slice(0,n+1),function(t){return t.height});return"translate(0, "+(r+n*o)+")"},k=function(t,e){return"translate("+(P+h)+","+(L[e].y+L[e].height/2+5)+")"}):"horizontal"===y&&(C=function(t,n){var r=e.sum(L.slice(0,n+1),function(t){return t.width});return"translate("+(r+n*o)+",0)"},k=function(t,e){return"translate("+(L[e].width*N+L[e].x)+","+(z+h)+")"}),r.d3_placement(y,_,C,T,k,p),r.d3_title(t,w,d,u),_.transition().style("opacity",1)}var n,i=e.scale.linear(),a="rect",l=15,o=2,c=[5],s=[],u="",d="",f=e.format(".01f"),h=10,p="middle",g="to",y="vertical",x=!1,m=e.dispatch("cellover","cellout","cellclick");return t.scale=function(e){return arguments.length?(i=e,t):i},t.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(c=e),t):c},t.shape=function(e,r){return arguments.length?("rect"!=e&&"circle"!=e&&"line"!=e||(a=e,n=r),t):a},t.shapeWidth=function(e){return arguments.length?(l=+e,t):l},t.shapePadding=function(e){return arguments.length?(o=+e,t):o},t.labels=function(e){return arguments.length?(s=e,t):s},t.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(p=e),t):p},t.labelFormat=function(e){return arguments.length?(f=e,t):f},t.labelOffset=function(e){return arguments.length?(h=+e,t):h},t.labelDelimiter=function(e){return arguments.length?(g=e,t):g},t.orient=function(e){return arguments.length?(e=e.toLowerCase(),"horizontal"!=e&&"vertical"!=e||(y=e),t):y},t.ascending=function(e){return arguments.length?(x=!!e,t):x},t.classPrefix=function(e){return arguments.length?(u=e,t):u},t.title=function(e){return arguments.length?(d=e,t):d},e.rebind(t,m,"on"),t}}).call(e,n(2))},function(t,e,n){(function(e){"use strict";var r=n(11);t.exports=function(){function t(t){var w=r.d3_calcType(n,m,s,u,h,y),_=t.selectAll("g").data([n]);_.enter().append("g").attr("class",d+"legendCells");var b=_.selectAll("."+d+"cell").data(w.data),A=b.enter().append("g",".cell").attr("class",d+"cell").style("opacity",1e-6),C=(A.append(i).attr("class",d+"swatch"),b.select("g."+d+"cell "+i));r.d3_addEvents(A,v),b.exit().transition().style("opacity",0).remove(),r.d3_drawShapes(i,C,l,a,o,w.feature),r.d3_addText(_,A,w.labels,d);var k,T,L=b.select("text"),z=C[0].map(function(t){return t.getBBox()}),P=e.max(z,function(t){return t.height}),N=e.max(z,function(t){return t.width}),S="start"==p?0:"middle"==p?.5:1;"vertical"===x?(k=function(t,e){return"translate(0, "+e*(P+c)+")"},T=function(t,e){return"translate("+(N+g)+","+(z[e].y+z[e].height/2+5)+")"}):"horizontal"===x&&(k=function(t,e){return"translate("+e*(N+c)+",0)"},T=function(t,e){return"translate("+(z[e].width*S+z[e].x)+","+(P+g)+")"}),r.d3_placement(x,b,k,L,T,p),r.d3_title(t,_,f,d),b.transition().style("opacity",1)}var n=e.scale.linear(),i="path",a=15,l=15,o=10,c=5,s=[5],u=[],d="",f="",h=e.format(".01f"),p="middle",g=10,y="to",x="vertical",m=!1,v=e.dispatch("cellover","cellout","cellclick");return t.scale=function(e){return arguments.length?(n=e,t):n},t.cells=function(e){return arguments.length?((e.length>1||e>=2)&&(s=e),t):s},t.shapePadding=function(e){return arguments.length?(c=+e,t):c},t.labels=function(e){return arguments.length?(u=e,t):u},t.labelAlign=function(e){return arguments.length?("start"!=e&&"end"!=e&&"middle"!=e||(p=e),t):p},t.labelFormat=function(e){return arguments.length?(h=e,t):h},t.labelOffset=function(e){return arguments.length?(g=+e,t):g},t.labelDelimiter=function(e){return arguments.length?(y=e,t):y},t.orient=function(e){return arguments.length?(e=e.toLowerCase(),"horizontal"!=e&&"vertical"!=e||(x=e),t):x},t.ascending=function(e){return arguments.length?(m=!!e,t):m},t.classPrefix=function(e){return arguments.length?(d=e,t):d},t.title=function(e){return arguments.length?(f=e,t):f},e.rebind(t,v,"on"),t}}).call(e,n(2))},function(t,e,n){"use strict";var r=n(15),i=n(16),a=n(17),l=n(18),o=n(19),c=n(20);t.exports=_.extend({},r,i,a,l,o,c)},function(t,e){"use strict";t.exports={mergeConfig:function(){var t=Array.prototype.slice.call(arguments),e={};return _.each(t,function(t){e=_.extend(e,t)}),e}}},function(t,e){"use strict";t.exports={chartApiList:[],getApiByChartId:function(t){var e=this.chartApiList;return _.find(e,function(e){return e.config.chartId==t})},getApiBySvgId:function(t){var e=this.chartApiList;return _.find(e,function(e){return e.config.svgContainer.attr("id")===t})}}},function(t,e){"use strict";t.exports={resize:function(){if(this.config){var t=this.config.wrapContainer,e=this.config.svgContainer,n=t.style("width"),r=t.style("height");e.attr({width:n,heightString:r}),this.api&&this.api.resize&&this.api.resize()}}}},function(t,e){"use strict";t.exports={svgContainerProperties:function(){if(this.config){var t=this.config.svgContainer,e=t.style("width"),n=t.style("height"),r=Number(e.split("px")[0]),i=Number(n.split("px")[0]);return{w:r,h:i,widthString:e,heightString:n}}}}},function(t,e){"use strict";t.exports={dateFormat:function(t,e){var n=this.getI18N().weekInfo,r=new Date(t);if(r){var i=r.getFullYear(),a=r.getMonth()+1,l=r.getDate(),o=(n[""+r.getDay()],r.getHours()),c=r.getMinutes(),s=r.getSeconds();r.getMilliseconds();switch(a=a>=10?a:"0"+a,l=l>=10?l:"0"+l,o=0===o?"00":o<=9?"0"+o:o,c=0===c?"00":c<=9?"0"+c:c,s=0===s?"00":s<=9?"0"+s:s,e){case"yyyy-MM-dd hh:mm:ss":return i+"-"+a+"-"+l+" "+o+":"+c+":"+s;case"MM:dd hh:mm:ss":return a+":"+l+" "+o+":"+c+":"+s;case"hh:mm:ss":return o+":"+c+":"+s;default:return o+":"+c+":"+s}}}}},function(t,e,n){"use strict";var r={zh:n(21),en:n(22)};t.exports={i18n:"zh",getI18N:function(t){var e=this.i18n;return t?r[e][t]:r[e]},setI18N:function(t){t!=this.i18n&&r[t]&&(this.i18n=t)}}},function(t,e){t.exports={weekInfo:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"}}},function(t,e){t.exports={weekInfo:{0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"}}},function(t,e){}])});
//# sourceMappingURL=mlpChart.min.js.map